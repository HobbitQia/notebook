
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="HobbitQia的笔记本">
      
      
      
        <link rel="canonical" href="https://note.hobbitqia.cc/TinyML/llm/">
      
      
        <link rel="prev" href="../quantization/">
      
      
        <link rel="next" href="../finetune/">
      
      
      <link rel="icon" href="../../log.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Transformer & LLM - HobbitQia的笔记本</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeline.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="../../css/custom.css">
    
      <link rel="stylesheet" href="../../css/card.css">
    
      <link rel="stylesheet" href="../../css/tasklist.css">
    
      <link rel="stylesheet" href="../../css/flink.css">
    
      <link rel="stylesheet" href="../../css/more_changelog.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="brown" data-md-color-accent="brown">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#transformer-and-llm" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="HobbitQia的笔记本" class="md-header__button md-logo" aria-label="HobbitQia的笔记本" data-md-component="logo">
      
  <img src="../../log.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HobbitQia的笔记本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Transformer & LLM
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="brown" data-md-color-accent="brown"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/HobbitQia/notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    HobbitQia/notebook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ds/" class="md-tabs__link">
          
  
    
  
  Computer Science

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ICS/" class="md-tabs__link">
          
  
    
  
  System

        </a>
      </li>
    
  

    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../DL/" class="md-tabs__link">
          
  
    
  
  AI

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../EDA/" class="md-tabs__link">
          
  
    
  
  EDA

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Mathematics/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E2%85%A1%28H%29/Rings/" class="md-tabs__link">
          
  
    
  
  Mathematics

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Paper/" class="md-tabs__link">
          
  
    
  
  Papers

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Misc/" class="md-tabs__link">
          
  
    
  
  Miscellaneous

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="HobbitQia的笔记本" class="md-nav__button md-logo" aria-label="HobbitQia的笔记本" data-md-component="logo">
      
  <img src="../../log.ico" alt="logo">

    </a>
    HobbitQia的笔记本
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/HobbitQia/notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    HobbitQia/notebook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    更新记录
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../link/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    友链
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Computer Science
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ds/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    数据结构与算法
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            数据结构与算法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ds/algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    算法分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ds/tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    树
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ds/heap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    堆
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ds/set/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    并查集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ds/graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图论
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ds/sort/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    排序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ds/hash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    散列
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ADS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    高级数据结构与算法分析
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            高级数据结构与算法分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../dip/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    图像信息处理
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            图像信息处理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图像信息处理介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    二值图像和形态学
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图像灰度变换与直方图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    几何变换
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    卷积与滤波
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    双边滤波的加速
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    引导滤波
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    稀疏范数滤波
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    傅里叶变换
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图像特征检测和提取
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dip/dip12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    深度学习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../OOP/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    面向对象程序设计
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            面向对象程序设计
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constant and Static
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inheritance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Polymorphism
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Copy Ctor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overloaded Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exception
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OOP/oop12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Smart Pointers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Quan/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    量子计算理论与软件系统
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            量子计算理论与软件系统
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Quan/chap1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量子态与量子门
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Quan/chap2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量子测量
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../TCS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算理论
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            计算理论
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../AOR/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    应用运筹学基础
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            应用运筹学基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    System
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ICS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机系统概论
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            计算机系统概论
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/ICS-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/ICS-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bits, Data Types and Operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/ICS-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Digital Logic Structures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/ICS-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The von Neumann Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/ICS-5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LC-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/ICS-6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/ICS-7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assembly Language
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/ICS-8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Structures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ICS/ICS-9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CSAPP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            CSAPP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP/5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    优化程序性能
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP/6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    存储器层次结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP/7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    链接
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP/8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    异常控制流
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP/9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    虚拟内存
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Logic/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机逻辑设计基础
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            计算机逻辑设计基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Logic/logic01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数字系统和信息
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Logic/logic02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    组合逻辑电路
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Logic/logic03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    组合逻辑电路设计
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Logic/logic04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    时序逻辑电路
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Logic/logic06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    寄存器与寄存器传输
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Logic/logic05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数字硬件设计
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Logic/logic07/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    内存基础
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../DB/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    数据库系统
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            数据库系统
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据库介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关系模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL 语言介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    中级 SQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    高级 SQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    实体-关系模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关系数据库设计
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    物理存储系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据存储结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    索引
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    查询处理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    查询优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    事务
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    并发控制
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/db15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    故障恢复
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CO/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机组成与设计
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            计算机组成与设计
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/co1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机概要与技术
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/co3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机的算术运算
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/co2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    指令：计算机的语言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/co4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    处理器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/co5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    内存层次架构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CO/co6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    存储和 IO
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CA/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机体系结构
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            计算机体系结构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/CA1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机设计基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/CA2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    流水线
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/CA3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    内存层次
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/CA4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    指令级并行
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CA/CA5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DLP 和 TLP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../OS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    操作系统原理与实践
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            操作系统原理与实践
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OS 结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    进程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    进程间通信
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    调度
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    同步
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap07/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    死锁
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap08/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    主存
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap09/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    虚拟内存
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大容量存储
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I/O 系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文件系统接口
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/chap13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文件系统实现
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Compiler/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    编译原理
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            编译原理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/lec1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/lec2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    词法分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Compiler/lec3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    语法分析
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    AI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../DL/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Deep Learning
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Deep Learning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DL/lec01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图像分类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DL/lec02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线性分类器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DL/lec03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DL/lec04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    神经网络
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DL/lec05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    反向传播
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DL/lec06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    卷积神经网络
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DL/lec07/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNN 架构
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Efficient ML
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Efficient ML
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pruning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    剪枝与稀疏性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quantization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Transformer & LLM
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Transformer & LLM
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transformer-basics" class="md-nav__link">
    <span class="md-ellipsis">
      Transformer Basics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transformer Basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revist-nlp-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Revist: NLP Tasks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transformer" class="md-nav__link">
    <span class="md-ellipsis">
      Transformer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transformer-design-variants" class="md-nav__link">
    <span class="md-ellipsis">
      Transformer Design Variants
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transformer Design Variants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encoder-decoder" class="md-nav__link">
    <span class="md-ellipsis">
      Encoder &amp; Decoder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#positional-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Positional Encoding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kv-cache-optimizations" class="md-nav__link">
    <span class="md-ellipsis">
      KV Cache Optimizations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#improving-over-ffn" class="md-nav__link">
    <span class="md-ellipsis">
      Improving over FFN
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#large-language-models-llms" class="md-nav__link">
    <span class="md-ellipsis">
      Large language models (LLMs)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficient-inference-algorithms-for-llms" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient inference algorithms for LLMs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Efficient inference algorithms for LLMs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quantization" class="md-nav__link">
    <span class="md-ellipsis">
      Quantization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pruningsparsity" class="md-nav__link">
    <span class="md-ellipsis">
      Pruning/Sparsity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficient-inference-systems-for-llms" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient inference systems for LLMs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Efficient inference systems for LLMs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vllm-and-paged-attention" class="md-nav__link">
    <span class="md-ellipsis">
      vLLM and Paged Attention
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamingllm" class="md-nav__link">
    <span class="md-ellipsis">
      StreamingLLM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flashattention" class="md-nav__link">
    <span class="md-ellipsis">
      FlashAttention
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#speculative-decoding" class="md-nav__link">
    <span class="md-ellipsis">
      Speculative Decoding
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficient-fine-tuning-for-llms" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient fine-tuning for LLMs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../finetune/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    微调和提示工程
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../EDA/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    EDA
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            EDA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mathematics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Mathematics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    线性代数
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            线性代数
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Mathematics/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E2%85%A1%28H%29/Rings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线性代数Ⅱ(H)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据建模与分析
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            数据建模与分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MLT/report/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    读书报告
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MLT/mlt2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    感知机
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Paper/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Papers
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/BiS-KM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BiS-KM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/ZeRO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ZeRO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/Megatron-LM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Megatron-LM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/GPipe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GPipe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/mixed_precision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    混合精度训练
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/FAST/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAST
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/softmax/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Softmax 加速
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/PagedAttention/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PagedAttention & vLLM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/VecPAC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VecPAC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Paper/NN-LUT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NN-LUT
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../Misc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Miscellaneous
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Miscellaneous
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Misc/float/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    浮点数与定点数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Misc/fpga/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FPGA Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LLVM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            LLVM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Misc/LLVM/ir/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLVM IR
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5" >
        
          
          <label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CGRA
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5">
            <span class="md-nav__icon md-icon"></span>
            CGRA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Misc/CGRA/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CGRA 介绍
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_6" >
        
          
          <label class="md-nav__link" for="__nav_8_6" id="__nav_8_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PIM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_6">
            <span class="md-nav__icon md-icon"></span>
            PIM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Misc/PIM/upmem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PIM 架构介绍
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_7" >
        
          
          <label class="md-nav__link" for="__nav_8_7" id="__nav_8_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Android
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_7">
            <span class="md-nav__icon md-icon"></span>
            Android
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/dataflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    触控事件的数据流
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transformer-basics" class="md-nav__link">
    <span class="md-ellipsis">
      Transformer Basics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transformer Basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revist-nlp-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Revist: NLP Tasks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transformer" class="md-nav__link">
    <span class="md-ellipsis">
      Transformer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transformer-design-variants" class="md-nav__link">
    <span class="md-ellipsis">
      Transformer Design Variants
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transformer Design Variants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encoder-decoder" class="md-nav__link">
    <span class="md-ellipsis">
      Encoder &amp; Decoder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#positional-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Positional Encoding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kv-cache-optimizations" class="md-nav__link">
    <span class="md-ellipsis">
      KV Cache Optimizations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#improving-over-ffn" class="md-nav__link">
    <span class="md-ellipsis">
      Improving over FFN
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#large-language-models-llms" class="md-nav__link">
    <span class="md-ellipsis">
      Large language models (LLMs)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficient-inference-algorithms-for-llms" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient inference algorithms for LLMs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Efficient inference algorithms for LLMs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quantization" class="md-nav__link">
    <span class="md-ellipsis">
      Quantization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pruningsparsity" class="md-nav__link">
    <span class="md-ellipsis">
      Pruning/Sparsity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficient-inference-systems-for-llms" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient inference systems for LLMs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Efficient inference systems for LLMs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vllm-and-paged-attention" class="md-nav__link">
    <span class="md-ellipsis">
      vLLM and Paged Attention
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamingllm" class="md-nav__link">
    <span class="md-ellipsis">
      StreamingLLM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flashattention" class="md-nav__link">
    <span class="md-ellipsis">
      FlashAttention
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#speculative-decoding" class="md-nav__link">
    <span class="md-ellipsis">
      Speculative Decoding
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#efficient-fine-tuning-for-llms" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient fine-tuning for LLMs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                  

  
  


<h1 id="transformer-and-llm">Transformer and LLM<a class="headerlink" href="#transformer-and-llm" title="Permanent link">&para;</a></h1>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<ul>
<li>Transformer basics </li>
<li>Transformer design variants</li>
<li>Large language models (LLMs)</li>
<li>Efficient inference algorithms for LLMs <ul>
<li>Quantization: SmoothQuant, AWQ, TinyChat</li>
<li>Pruning/sparsity: SpAtten, H2O, MoE</li>
</ul>
</li>
<li>Efficient inference systems for LLMs <ul>
<li>vLLM</li>
<li>StreamingLLM</li>
<li>FlashAttention</li>
<li>Speculative decoding</li>
</ul>
</li>
<li>Efficient fine-tuning for LLMs <ul>
<li>LoRA/QLoRA</li>
<li>Adapter</li>
<li>Prompt Tuning</li>
</ul>
</li>
</ul>
</div>
<h2 id="transformer-basics">Transformer Basics<a class="headerlink" href="#transformer-basics" title="Permanent link">&para;</a></h2>
<h3 id="revist-nlp-tasks">Revist: NLP Tasks<a class="headerlink" href="#revist-nlp-tasks" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>NLP 里主要有两类任务：</p>
<ul>
<li>Discriminative tasks 判别任务，比如文本分类、命名实体识别、情感分析等。</li>
<li>Generative tasks 生成任务，比如机器翻译、文本摘要、对话生成等。</li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240608150515.png" width = 75%/> </div></p>
</li>
<li>
<p>在 Transformer 出来之前，常用的模型有：</p>
<ul>
<li>
<p><strong>Recurrent Neural Networks (RNNs)</strong></p>
<ul>
<li>当前的状态依赖于输入和之前的状态，因此存在 cross-token 的依赖，限制了他的 scalability。</li>
<li>work memory 努力保持 long-term dependencies（可以由 LSTM 解决）。</li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240608150824.png" width = 85%/> </div></p>
</li>
<li>
<p><strong>Convolutional Neural Networks (CNNs)</strong></p>
<ul>
<li>tokens 之间不存在依赖，因此有更好的 scalability。</li>
<li>但限制了上下文信息，导致模型的能力不如 RNN。（因为 CV 中信息往往都具有局部性，但是 NLP 的任务不一定具有这个特点） </li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240608151009.png" width = 65%/> </div></p>
</li>
<li>
<p>NLP with RNN/LSTM</p>
<ul>
<li>Bi-directional RNNs 用来做判别任务（encoding）。双向体现在可以同时看到以前和未来位置的信息，相当于离线处理。</li>
<li>Uni-directional RNNs 用来做生成任务（decoding）。单向体现在只能看到以前的信息，相当于在线处理。</li>
</ul>
</li>
<li>Problems with RNN/LSTM<ul>
<li>难以建模长期的关系，需要 <span class="arithmatex">\(O(seq\_len)\)</span> 步才能建立两个 tokens 间的相互联系。</li>
<li>训练时的并行性差，因为状态总是严格依赖于之前的状态，需要 n 步才能到达状态 n。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="transformer">Transformer<a class="headerlink" href="#transformer" title="Permanent link">&para;</a></h3>
<div align=center> <img src="https://cdn.hobbitqia.cc/20240608235853.png" width = 100%/> </div>

<ul>
<li>
<p><strong>Tokenization</strong></p>
<ul>
<li>A tokenizer maps a word to one/multiple tokens. </li>
</ul>
<details class="example">
<summary>Example</summary>
<p>如下图，把 110 个单词划分为了 162 个 tokens。
<div align=center> <img src="https://cdn.hobbitqia.cc/20240608152440.png" width = 70%/> </div></p>
</details>
</li>
<li>
<p><strong>Word Representation</strong></p>
<ul>
<li><strong>One-Hot Encoding</strong><ul>
<li>一个词被表示为一个长度为词典大小的向量，只有一个位置为 1，其余为 0。</li>
<li>但是对于大词典，向量可能会变得非常长，而且除了一个地方其余位置全是 0，这被认为是一种非常稀疏的表示方法。</li>
</ul>
</li>
<li>
<p><strong>Word Embedding</strong></p>
<ul>
<li>
<p>把单词的索引，通过一个 look-up table 映射到一个连续的词嵌入。即我们可以把一个单词就看做一个向量。</p>
<details class="example">
<summary>Example</summary>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240608152653.png" width = 40%/> </div></p>
</details>
</li>
<li>
<p>词嵌入可以 end-to-end 进行训练，来适配对应模型的下游任务。流行的预训练的词嵌入有 Word2Vec, GloVe。</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Multi-Head Attention(MHA)</strong></p>
<ul>
<li>
<p><strong>Self-Attention</strong>: <span class="arithmatex">\(Attention(Q,K,V)=Softmax(\frac{QK^\top}{\sqrt{d_k}})V\)</span></p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240608220338.png" width = 45%/> </div></p>
<ul>
<li>首先把嵌入 <span class="arithmatex">\(E\)</span> 投影为 query, key, value <span class="arithmatex">\((Q,K,V)\)</span>。</li>
<li>将 <span class="arithmatex">\(Q,K\)</span> 乘起来得到内积，并除以 <span class="arithmatex">\(\sqrt{d_k}\)</span> 来规格化。</li>
<li>经过 softmax 来得到 <span class="arithmatex">\(N\times N\)</span> 的 attention 权重（attention 计算的复杂度是 <span class="arithmatex">\(O(N^2)\)</span>）。<ul>
<li>softmax 是为了将权重视为概率，使得权重和为 1。</li>
</ul>
</li>
<li>最后将 attention weights 与 <span class="arithmatex">\(V\)</span> 相乘得到输出。</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>(Q, K, V) 可以类比于一个 Youtube 搜索的过程：Query 是我们在搜索框输入的内容，Key 是 Youtube 上所有视频的标题或者描述，Value 是对应的视频。我们通过 Query 和 Key 的相似度来计算出每个视频的权重，最后将权重和视频相乘得到最终的输出。</p>
</div>
</li>
<li>
<p><strong>MHA</strong>: Each head captures different semantics</p>
<ul>
<li>我们需要不同的注意力映射来捕捉不同的语义关系，因此我们使用了多头注意力机制。</li>
<li>
<p>模型有 <span class="arithmatex">\(H&gt;1\)</span> attention heads（<span class="arithmatex">\(QKV\)</span> 的并行分支），最终结果由不同的注意力结果拼接而成。</p>
<div class="arithmatex">\[
\begin{aligned}
MultiHead(Q,K,V) &amp; =Concat(head_1, /ldots, head_h)W^O\\
    where\ head_i &amp; =Attention(QW_i^Q,KW_i^K,VW_i^V)
\end{aligned}
\]</div>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240608232752.png" width = 45%/> </div></p>
</li>
</ul>
</li>
<li>
<p><strong>Attention Masking</strong></p>
<p>有 global/causal 两种 mask，其中 global 能看到前后的值，但是 causal 只能看到之前的值。
<div align=center> <img src="https://cdn.hobbitqia.cc/20240608233401.png" width = 40%/> </div></p>
</li>
</ul>
</li>
<li>
<p><strong>Feed-Forward Network (FFN)</strong></p>
<ul>
<li>自注意力只建立了 tokens 之间的关系，没有涉及到 elementwise non-linearity.</li>
<li>因此我们添加了一个前馈神经网络来帮助特征的建模。</li>
<li>
<p>朴素实现就是一个 2 层 MLP（隐藏状态维度更大）以及使用 ReLU/GeLU 作为激活函数。</p>
<div class="arithmatex">\[
FFN(x)=ReLU(xW_1+b_1)W_2+b_2
\]</div>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240608234020.png" width = 35%/> </div></p>
</li>
</ul>
</li>
<li>
<p><strong>LayerNorm &amp; Residual connection</strong></p>
<ul>
<li>
<p>Layer Normalization(LN) 对每个 token 进行规范化，随后作用仿射变化。（BatchNorm 会对整个 batch 进行规范化）</p>
<div class="arithmatex">\[
LN(x)=\frac{x-\mu}{\sqrt{\sigma^2+\epsilon}}*\gamma+\beta
\]</div>
<p>这里的放射变化的参数是可学习的。</p>
</li>
<li>
<p>Transformer Block</p>
<ul>
<li>我们会添加 LayerNorm 和 Residual Connections 来促进训练的稳定性。</li>
<li>
<p>有两种放置方法：Post-norm 和 Pre-norm，现在更多地使用 Pre-norm。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240608234440.png" width = 90%/> </div></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Positional Encoding (PE)</strong></p>
<ul>
<li>问题：attention 和 FFN 并没有区分输入 token 的次序，即将输入 token 打乱顺序后得到的结果是一样的。相当于我们只是对 set encoding 而非 sequence encoding。</li>
<li>
<p>解决方法：位置编码，即为每个 token 添加一个位置信息。</p>
<ul>
<li>
<p>每个单词的在句子中的位置都有一个独一无二的 encoding。</p>
<div class="arithmatex">\[
\vec{p_t}^{(i)} = f(t)^{(i)} := \begin{cases}
\sin(w_k\cdot t) &amp; \text{if $i=2k$} \\
\cos(w_k\cdot t) &amp; \text{if $i=2k+1$}
\end{cases}, w_k=(10000^{2k/d})
\]</div>
</li>
<li>
<p>我们将位置编码和词嵌入相加，得到最终的输入。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="transformer-design-variants">Transformer Design Variants<a class="headerlink" href="#transformer-design-variants" title="Permanent link">&para;</a></h2>
<ul>
<li>大部分从最初的 transformer paper 中的设计都已经被社区广泛使用。</li>
<li>但是，有一些变种的 transformer 也被提出：<ul>
<li>Encoder-decoder(T5), encoder-only(BERT), decoder-only(GPT)</li>
<li>Absolute positional encoding =&gt; Relative positional encoding</li>
<li>KV cache optimizations<ul>
<li>Multi-Head Attention (MHA) -&gt; Multi-Query Attention (MQA) -&gt; Grouped-Query Attention (GQA)</li>
</ul>
</li>
<li>FFN -&gt; GLU (gated linear unit)</li>
</ul>
</li>
</ul>
<h3 id="encoder-decoder">Encoder &amp; Decoder<a class="headerlink" href="#encoder-decoder" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Encoder-Decoder</strong></p>
<ul>
<li>原始的 transformer 就是一个 Encoder-Decoder 结构。</li>
<li>T5 提供了一个统一的 text-to-text 的模型，可以在不同的 NLP 任务上进行迁移学习。</li>
<li>
<p>prompt 会被送到 encoder 中，decoder 会生成答案。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609101930.png" width = 85%/> </div></p>
</li>
</ul>
</li>
<li>
<p><strong>Encoder-Only (BERT)</strong></p>
<ul>
<li>Bidirectional Encoder Representations from Transformers (BERT) 是一个 encoder-only 的预训练模型。</li>
<li>有两个预训练任务：Masked Language Model (MLM) 和 Next Sentence Prediction (NSP)。MLM 类似于完形填空，即通过看上下文来决定被 mask 的词是什么；NSP 是判断两个句子是否是连续的。</li>
<li>预训练模型通过 fine-tune 来适配对应的下游任务。</li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609102130.png" width = 75%/> </div></p>
</li>
<li>
<p><strong>Decoder-only (GPT)</strong></p>
<ul>
<li>Generative Pre-trained Transformer (GPT) 是一个 decoder-only 的预训练模型。</li>
<li>预训练的目标是 Next word prediction，即给定前面的词，预测下一个词。</li>
<li>对于小模型（比如 GPT-2），预训练模型需要通过 fine-tune 来适配对应的下游任务。更大的模型可以 zero-shot/few-shot 适配下游任务，不再需要微调。</li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609102306.png" width = 75%/> </div></p>
</li>
</ul>
<h3 id="positional-encoding">Positional Encoding<a class="headerlink" href="#positional-encoding" title="Permanent link">&para;</a></h3>
<ul>
<li>Absolute Positional Encoding<ul>
<li>绝对位置编码把位置信息直接加到词嵌入上，因此会同时影响 Q K V，整个模型里面都会有位置信息。</li>
</ul>
</li>
<li>Relative Positional Encoding<ul>
<li>相对位置编码将位置信息加到 attention score 上，因此只会影响 Q K，不会影响 V。好处是可以更好地泛化序列长度，即 train short, test long.</li>
<li>
<p><strong>Attention with Linear Biases (ALiBi)</strong></p>
<ul>
<li>
<p>使用相对距离来代替绝对的索引。将偏移量加到 attention matrix 上，再做 softmax 操作并与 V 相乘。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609103745.png" width = 75%/> </div></p>
</li>
<li>
<p><strong>Rotary Positional Embedding (RoPE)</strong></p>
<ul>
<li>
<p>把 embedding 在 2D 空间里旋转：首先将 <span class="arithmatex">\(d\)</span> 维的 embedding 分为 <span class="arithmatex">\(d/2\)</span> 对，每对认为是一个 2D 的坐标。随后根据位置 <span class="arithmatex">\(m\)</span> 将这个坐标旋转 <span class="arithmatex">\(m\theta\)</span> 度。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609104101.png" width = 100%/> </div></p>
</li>
<li>
<p>一般形式可以写作：</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609104145.png" width = 90%/> </div></p>
</li>
<li>
<p>好处是 LLM 通常训练时都有上下文长度的限制 <strong><em>e.g.</em></strong> 2k for LLaMA, 4k for LLaMA-2, 8k for GPT-4. 我们可以延长上下文长度，通过插值 RoPE PE 来实现。（即使用更小的 <span class="arithmatex">\(\theta_i\)</span>）</p>
<div class="admonition example">
<p class="admonition-title">Extend the context length of LLaMA from 2k to 32k</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609104343.png" width = 100%/> </div></p>
</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="kv-cache-optimizations">KV Cache Optimizations<a class="headerlink" href="#kv-cache-optimizations" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>The <strong>KV cache</strong> could be large with long context.</p>
<ul>
<li>在 transformer decoding 中，我们需要存储所有之前 tokens 的 key 和 value，以此来计算 attention，这就是 KV cache。</li>
<li>
<p>随着上下文长度的增加，KV cache 会变得非常大，因此我们需要一些优化来减少存储空间。</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609104655.png" width = 90%/> </div>
<div align=center> <img src="https://cdn.hobbitqia.cc/20240609104713.png" width = 80%/> </div></p>
</div>
</li>
</ul>
</li>
<li>
<p><strong>Multi-Query Attention</strong></p>
<ul>
<li>通过减少 <code>#kv-heads</code> 来降低 KV cache 的大小。</li>
<li><strong>Multi-head attention (MHA)</strong>: <span class="arithmatex">\(N\)</span> heads for query, <span class="arithmatex">\(N\)</span> heads for key/value</li>
<li><strong>Multi-query attention (MQA)</strong>: <span class="arithmatex">\(N\)</span> heads for query, 1 heads for key/value</li>
<li><strong>Grouped-query attention (GQA)</strong>: <span class="arithmatex">\(N\)</span> heads for query, <span class="arithmatex">\(G\)</span> heads for key/value (typically <span class="arithmatex">\(G=N/8\)</span>)</li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609104903.png" width = 85%/> </div>
<div align=center> <img src="https://cdn.hobbitqia.cc/20240609104913.png" width = 70%/> </div></p>
</li>
</ul>
<h3 id="improving-over-ffn">Improving over FFN<a class="headerlink" href="#improving-over-ffn" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Gated Linear Units (GLU)</strong></p>
<ul>
<li>
<p>我们可以使用 GLU 代替朴素的 FFN，以此来提高模型的性能。</p>
<div class="arithmatex">\[
FFN_{SwiGLU}(x,W,V,W_2)=(Swish_1(xW)\otimes xV)W_2
\]</div>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609105404.png" width = 80%/> </div></p>
</li>
<li>
<p>其中 Swish 的定义为：<span class="arithmatex">\(Swish(x)=x\cdot sigmoid(x)\)</span></p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609105424.png" width = 100%/> </div></p>
</li>
</ul>
</li>
</ul>
<h2 id="large-language-models-llms">Large language models (LLMs)<a class="headerlink" href="#large-language-models-llms" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>LLMs 表现出一些只有在足够大的模型下才能获得的突现能力。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609105635.png" width = 100%/> </div></p>
<p>上面图中可以看到，在 size 超过 <span class="arithmatex">\(10^{22}\)</span> 后，LLMs 在 Modified arithmetic 等任务上的准确度显著提升。 </p>
</li>
<li>
<p><strong>GPT-3</strong></p>
<ul>
<li>将 transformer 扩展为 few-shot learners (in-context learning). 传统的 NLP pipeline 是先预训练，随后对下游任务进行微调。而 GPT-3 可以直接在下游任务上进行学习，不再需要微调。</li>
<li>
<p>Scaled-up LLM (175B) 可以泛化到新的任务，通过 zero/few-shot:</p>
<ul>
<li>Zero-shot: 给定任务描述，回答问题。</li>
<li>Few-shot: 给定 demonstrations 示范，回答问题。</li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609110211.png" width = 95%/> </div></p>
</li>
<li>
<p>我们发现更大的模型可以更有效地利用 few-shot 的示范。而且给更多的示范，no-prompt 的精确度也可以赶上 task-prompted 的精确度。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609110355.png" width = 80%/> </div></p>
</li>
<li>
<p>GPT Family:</p>
<ul>
<li>GPT-1 (2018): 117 million</li>
<li>GPT-2 (2019): 1.5B</li>
<li>GPT-3 (2020): 175B</li>
<li>GPT-4 (2023): ???</li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609110433.png" width = 80%/> </div></p>
</li>
</ul>
</li>
<li>
<p><strong>OPT</strong></p>
<ul>
<li>Open Pre-trained Transformer Language Models (OPT) 是来自 Meta 2022 的开源预训练大模型。</li>
<li>模型大小：125M/350M/1.3B/2.7B/6.7B/13B/30B/66B/175B</li>
<li>Decoder-only, Pren-norm(Post-norm for 350M), ReLU in FFN.</li>
<li>175B model: 隐藏层维度 12288，96 个注意力头，词典大小 50k，上下文长度 2048。</li>
<li>性能与 GPT 模型很接近。</li>
</ul>
</li>
<li><strong>BLOOM</strong><ul>
<li>BLOOM 是来自 BigScience 的开源预训练大模型。</li>
<li>模型大小：560M/1.1B/1.7B/3B/7.1B/176B</li>
<li>Decoder-only, Pre-norm, GeLU in FFN, ALiBI</li>
<li>176B model: 隐藏层维度 14336，112 个注意力头，词典大小 250k，上下文长度 2048。</li>
<li>支持多语言（语料库中包括了 59 种语言）。</li>
</ul>
</li>
<li><strong>LLaMA</strong><ul>
<li>Large Language Model Archive (LLaMA) 是来自 Meta 的开源预训练大模型。</li>
<li>模型大小：7B/13B/33B/65B</li>
<li>Decoder-decoder, Pre-norm, SwiGLU, RoPE</li>
<li>7B model: 隐藏层维度 4096，32 个注意力头，32 层，词典大小 32k，上下文长度 2048。</li>
<li>65B model: 隐藏层维度 8192，64 个注意力头，80 层，词典大小 32k，上下文长度 2048。</li>
<li>和之前的开源模型相比，性能更好。</li>
</ul>
</li>
<li><strong>LLaMA 2</strong><ul>
<li>更大的上下文长度（2k-&gt;4k）</li>
<li>更多的训练 tokens（1T/1.4T-&gt;2T，没有饱和的迹象）</li>
<li>GQA for lager models（70B，64 个注意力头，8 个 kv 头）</li>
<li>也包括了 Llama-2-chat，一个 instruction-tuned 的模型。</li>
</ul>
</li>
<li><strong>Falcon</strong><ul>
<li>模型大小：1.3B/7.5B/40B/180B</li>
<li>与 Llama 2 相比有类似的性能。</li>
</ul>
</li>
<li><strong>Mistral-7B</strong><ul>
<li>更小的模型但是有更好的性能：7B 模型在 SuperGLUE 上超过了 Llama-2-13B, Llama-34B。</li>
<li>隐藏层维度 4096，32 个注意力头，8 个 kv 头，32 层，词典大小 32k，上下文长度 8k。</li>
<li>有 sliding windows attention (SWA) 来以较小的代价处理更长的上下文。</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">How to scale up? - The Chinchilla Law</p>
<ul>
<li>我们需要同时扩大模型大小和训练用的数据大小，才能实现最好的训练计算和精度之间的平衡。</li>
<li>如果我们考虑推理时计算的 trade-off，那么这个权衡有所不同。你想要训练一个更小的模型以节省推理成本。</li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609110433.png" width = 80%/> </div>
<a href="https://cdn.hobbitqia.cc/20240609112431.png">https://cdn.hobbitqia.cc/20240609112431.png</a></p>
</div>
<h2 id="efficient-inference-algorithms-for-llms">Efficient inference algorithms for LLMs<a class="headerlink" href="#efficient-inference-algorithms-for-llms" title="Permanent link">&para;</a></h2>
<h3 id="quantization">Quantization<a class="headerlink" href="#quantization" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>SmoothQuant</strong> (W8A8)</p>
<ul>
<li>
<p>我们希望平滑激活值来降低量化的误差。但是我们发现权重是容易量化的（因为分布均匀），但激活值有很多 outliers，所以难以量化。但我们发现 outliers 总是出现在固定的 channels，因此我们可以把量化的复杂度从激活值转移到权重，这样二者都容易被量化了。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609112938.png" width = 100%/> </div></p>
</li>
<li>
<p>平滑的方法就是对于 <span class="arithmatex">\(\mathbf{Y=XW}\)</span>, 将激活值缩小一个比例系数，同时将权重放大一个比例系数。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609114948.png" width = 80%/> </div></p>
<ul>
<li>对于 <span class="arithmatex">\(\mathbf{Y}=(\mathbf{X} diag(\mathbf{s})^{-1})\cdot (diag(\mathbf{s})\mathbf{W})=\hat{\mathbf{X}}\hat{\mathbf{W}}\)</span>, 对于权重的缩放可以离线完成，对于激活值的缩放可以折叠到 LayerNorm 的放射变换的因子中。因此实际上这个操作没有 runtime overhead。</li>
<li>缩放因子 <span class="arithmatex">\(s_j\)</span> 实际上是 <span class="arithmatex">\(\mathbf{X}\)</span> 的每一列的最大值除上 <span class="arithmatex">\(\mathbf{W}\)</span> 每一行的最大值（即对应输入通道）。</li>
</ul>
</li>
<li>
<p>实现上，通过这个技巧我们可以把所有 compute-intensive 的算子（Linears, BMMs）都量化。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609115504.png" width = 65%/> </div></p>
</li>
<li>
<p>SmoothQuant 不需要微调也可以保持精度，而且可以加速推理，也可以减少内存占用。且在 LLaMA 上测试发现，即使引入了 SwishGLU, RoPE，SmoothQuant 也不会影响性能。</p>
</li>
</ul>
</li>
<li>
<p><strong>AWQ</strong> for low-bit weight-only quantization</p>
<ul>
<li>W8A8 对于 batch serving 来说已经很好了，但是单查询的 LLM 推理依然是 memory-bounded，即我们需要 low-bit weight-only quantization 低位的只关注权重的量化（e.g., W4A16）。但如果我们直接使用 W3/W4 量化，性能会有很大的下降。</li>
<li>
<p>我们观察到，权重并不是同等重要，只有 1% 的突出权重以 FP16 的格式存储，可以显著改善性能。问题在于如何选择这 1% 的权重。</p>
<ul>
<li>这里我们不能基于权重的大小来选择，而是应该基于激活值的分布（Activation-awareness）。</li>
<li>
<p>我们可以将激活值最大的 channel 对应的突出权重 <span class="arithmatex">\(\times s\)</span>（而不是用 fp16 存储），其他权重保持不变。所有权重均是 int4。即 <span class="arithmatex">\(\mathbf{WX} \rightarrow Q\mathbf{(W\cdot s)(s^{-1}\cdot X)}\)</span></p>
<div class="admonition note">
<p class="admonition-title">Protecting salient weights by scaling (no mixed prec.)</p>
<p>下面的分析可以看到，通过对部分 channel 缩放，我们得以降低误差。
<div align=center> <img src="https://cdn.hobbitqia.cc/20240609151024.png" width = 100%/> </div> </p>
</div>
</li>
<li>
<p>可以采用 data-driven 的方法进行快速的 grid search，得到 <span class="arithmatex">\(s\)</span> 的取值。</p>
</li>
</ul>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Better PPL under low-bit weight-only quantization</p>
<p>PPL 用来衡量模型质量，越低越好。
<div align=center> <img src="https://cdn.hobbitqia.cc/20240609151325.png" width = 80%/> </div> </p>
</div>
</li>
</ul>
<h3 id="pruningsparsity">Pruning/Sparsity<a class="headerlink" href="#pruningsparsity" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Pruning</p>
<ul>
<li><strong>Wanda</strong> 对权重剪枝。思想类似于 AWQ，即我们剪枝权重时应该考虑激活值的分布。</li>
<li>
<p>这里我们使用 <span class="arithmatex">\(|weight|\times \|activation\|\)</span> 作为剪枝的准则。</p>
<div class="admonition example">
<p class="admonition-title">Magnitude vs Wanda</p>
<p>Wanda 始终优于基于 maginitude 的剪枝。
<div align=center> <img src="https://cdn.hobbitqia.cc/20240609151710.png" width = 100%/> </div> </p>
</div>
</li>
</ul>
</li>
<li>
<p>Attention Sparsity</p>
<ul>
<li>
<p><strong>SpAtten</strong>：对 token &amp; head 剪枝。特点在于 cascade pruning，即我们会在运行中逐渐去掉不重要的 tokens &amp; heads。    </p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609152047.png" width = 90%/> </div> </p>
</li>
<li>
<p><strong>H2O</strong>：对 KV cache 里的 token 进行剪枝。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609152136.png" width = 80%/> </div> </p>
</li>
<li>
<p><strong>DejaVu</strong>：用 feature map 预测下一层哪些 heads 可以被修剪。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609173635.png" width = 90%/> </div> </p>
</li>
<li>
<p><strong>Mixture-of-Experts (MoE)</strong></p>
<ul>
<li>
<p>对于每个输入，不激活所有的网络，而是由 router 决定哪部分网络应该被激活（expert）。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609173739.png" width = 100%/> </div> </p>
</li>
<li>
<p>router 也可以采用不同的路由算法。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609173755.png" width = 75%/> </div> </p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="efficient-inference-systems-for-llms">Efficient inference systems for LLMs<a class="headerlink" href="#efficient-inference-systems-for-llms" title="Permanent link">&para;</a></h2>
<h3 id="vllm-and-paged-attention">vLLM and Paged Attention<a class="headerlink" href="#vllm-and-paged-attention" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>分析 KV cache 的使用：当多用户同时访问时，我们需要预先分配一部分空间用作 KV cache，但是这样会导致内存的浪费。</p>
<ul>
<li>内部碎片：我们不知道输出序列的长度因而 over-allocated。</li>
<li>保留区：现在这一步不会用到，但未来可能被使用。</li>
<li>外部碎片：因为不同的序列长度，导致不同内存分配之间会有空隙。</li>
</ul>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609174444.png" width = 100%/> </div> </p>
</li>
<li>
<p>我们从 OS 中借鉴了 virtual memory 虚拟内存和 paging 分页的思想，允许 KV cache 不连续存储，而逻辑地址保持连续，通过页表来映射。</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609174624.png" width = 100%/> </div> </p>
</div>
</li>
<li>
<p>Dynamic block mapping enables prompt sharing in parallel sampling. 即我们可以喂一个 prompt，随后由多个进程共享，生成多个不同的输出。</p>
</li>
</ul>
<h3 id="streamingllm">StreamingLLM<a class="headerlink" href="#streamingllm" title="Permanent link">&para;</a></h3>
<ul>
<li>在 streaming application 流应用上部署 LLM 是有挑战的，因为需要消耗大量内存（Out of Memory），而且流行的 LLM 很难泛化到更长的文本序列（Model Performance Breaks）。</li>
<li>一个自然的方法：使用 window attention，即我们只计算最近邻（窗口范围内）的 Key-Value 的 attention。<ul>
<li>问题是当序列长度超过 cache 大小时，intial token 起初的信息会被踢出 window，从而导致性能的显著下降。</li>
</ul>
</li>
<li><strong>Observation</strong>: 最初的 token 有很大的 attention scores，尽管这个 token 在语义上并不重要。<ul>
<li>原因在于，Softmax 函数中，我们需要让 attention scores 和为 1。因此第 1 个 token 的优势在于他对于后面 token 的可见性，这源于自回归语言模型。（Attention Sinks）</li>
<li>经过实验可以发现，intial tokens 重要是源于他的 postion 而非 semantics。</li>
</ul>
</li>
<li><strong>StreamingLLM</strong><ul>
<li><strong>Objective</strong>：让 LLM 能通过有限的 attention windows 训练，从而能在不额外训练的情况下解决无限文本长度的问题。</li>
<li><strong>Idea</strong>：保存 attention sink tokens 的 KV，和 sliding windows'KV 一起计算来让模型的行为稳定。</li>
<li>在使用位置编码时，我们使用在 cache 里的位置而不是使用在原始文本中的位置。</li>
<li>同时实现 StreamingLLM 和 Paged Attention 时，我们只需要 pin 住 intial tokens，保证他们不会被踢出即可。</li>
<li>实验里表明 4 attention sinks 足够解决问题，同时我们可以训练一个只需要 1 个 sink 的 LLM。方法是引进一个额外的可学习的 token 在最开始。</li>
</ul>
</li>
</ul>
<h3 id="flashattention">FlashAttention<a class="headerlink" href="#flashattention" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>FlashAttention</strong> 使用 tiling 来阻止 <span class="arithmatex">\(N\times N\)</span> attention 矩阵的 materialization，因此避免了使用缓慢的 HBM，还使用了 kernel fusion 的技巧。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609202947.png" width = 100%/> </div> </p>
</li>
</ul>
<h3 id="speculative-decoding">Speculative Decoding<a class="headerlink" href="#speculative-decoding" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>投机译码</strong>，用来加速 memory-bounded 的生成。LLM 的 decoding 阶段都是 token by token，即一个一个地输出，这会导致内存受限（因为 batch size 很小）</li>
<li>投机译码中，我们有两个模型：<ul>
<li>Draft model 是一个比较小的 LLM（如 7B）</li>
<li>Target model 是一个比较大的 LLM（如 175B），即我们希望加速的模型。</li>
</ul>
</li>
<li>
<p>具体流程：draft model 自回归地生成 <span class="arithmatex">\(K\)</span> 个 tokens（batch size <span class="arithmatex">\(K\)</span>），将这 <span class="arithmatex">\(K\)</span> 个 tokens 并行地送入目标模型，并得到预测的概率。最后决定接受还是拒绝这 <span class="arithmatex">\(K\)</span> 个 tokens。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609203623.png" width = 75%/> </div> </p>
</li>
<li>
<p>因为多个 tokens 是并行送入 target model 的，所以提高了内存的瓶颈。</p>
</li>
</ul>
<h2 id="efficient-fine-tuning-for-llms">Efficient fine-tuning for LLMs<a class="headerlink" href="#efficient-fine-tuning-for-llms" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>LoRA</strong>: Low-rank adaptation </p>
<ul>
<li>
<p>不更新整个模型权重，而是只更新 low-rank 的小部分。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609204150.png" width = 45%/> </div> </p>
</li>
<li>
<p>好处是可以加速微调（因为跳过了梯度计算），节约了微调内存（减少了优化器状态），阻止了灾难性的遗忘，低秩权重是可以融合的。</p>
</li>
</ul>
</li>
<li>
<p><strong>QLoRA</strong>: LoRA with quantized base model weights</p>
<ul>
<li>
<p>使用了 NormalFloat (NF4)，进行了两次量化（对 scaling factor 也进行了量化）来进一步降低基础模型的大小，支持带有 CPU Offload 的分页优化器。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609204838.png" width = 75%/> </div> </p>
</li>
</ul>
</li>
<li>
<p><strong>Adapter</strong></p>
<ul>
<li>
<p>smaller adapter for transfer learning, cannot be fused.</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609204925.png" width = 90%/> </div> </p>
</li>
</ul>
</li>
<li>
<p><strong>Prompt Tuning</strong>: From discrete prompt to continuous prompt</p>
<ul>
<li>我们可以训练 continuous prompt，附加到每个任务的输入中。</li>
<li>
<p>我们还可以把不同的可学习的 prompt 混合在一个 batch 中。</p>
<p><div align=center> <img src="https://cdn.hobbitqia.cc/20240609205133.png" width = 85%/> </div> </p>
</li>
</ul>
</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2024年6月9日 21:14:33</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">2024年6月9日 21:14:33</span>
  </span>

    
    
    
  </aside>





                

<link rel="stylesheet" href="/css/counter.css">

<!-- Giscus -->
<h2 id="__comments">评论</h2>


<!-- 这里改成你的Giscus代码 -->
<script src="https://giscus.app/client.js"
        data-repo="HobbitQia/notebook"
        data-repo-id="R_kgDOHtZjDg"
        data-category="General"
        data-category-id="DIC_kwDOHtZjDs4CQZ7Z"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>


<!-- Reload on palette change -->
<script>
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object")
        if (palette.color.scheme === "slate") {
            var giscus = document.querySelector("script[src*=giscus]")
            giscus.setAttribute("data-theme", "dark")
        }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script>

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 <a href="https://github.com/HobbitQia"  target="_blank" rel="noopener">HobbitQia</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/HobbitQia/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
        <script src="../../js/baidu-tongji.js"></script>
      
        <script src="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
      
        <script src="../../js/katex.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>