<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="HobbitQia的笔记本" name="description"/>
<link href="https://note.hobbitqia.cc/CSAPP/6/" rel="canonical"/>
<link href="../5/" rel="prev"/>
<link href="../7/" rel="next"/>
<link href="../../log.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.23" name="generator"/>
<title>存储器层次结构 - HobbitQia的笔记本</title>
<link href="../../assets/stylesheets/main.84d31ad4.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"LXGW WenKai Screen";--md-code-font:"JetBrains Mono"}</style>
<link href="../../css/timeline.css" rel="stylesheet"/>
<link href="../../css/heti.css" rel="stylesheet"/>
<link href="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" rel="stylesheet"/>
<link href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css" rel="stylesheet"/>
<link href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css" rel="stylesheet"/>
<link href="../../css/custom.css" rel="stylesheet"/>
<link href="../../css/card.css" rel="stylesheet"/>
<link href="../../css/tasklist.css" rel="stylesheet"/>
<link href="../../css/flink.css" rel="stylesheet"/>
<link href="../../css/more_changelog.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="brown" data-md-color-primary="brown" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#_1">
          跳转至
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="页眉" class="md-header__inner md-grid">
<a aria-label="HobbitQia的笔记本" class="md-header__button md-logo" data-md-component="logo" href="../.." title="HobbitQia的笔记本">
<img alt="logo" src="../../log.ico"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            HobbitQia的笔记本
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              存储器层次结构
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="brown" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="brown" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="搜索" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="搜索" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="查找" class="md-search__options">
<button aria-label="清空当前内容" class="md-search__icon md-icon" tabindex="-1" title="清空当前内容" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/HobbitQia/notebook/" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    HobbitQia/notebook
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="标签" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
          
  
  
    
  
  Home

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../ds/">
          
  
  
    
  
  Computer Science

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../ICS/">
          
  
  
    
  
  System

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../DL/">
          
  
  
    
  
  AI

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../EDA/">
          
  
  
    
  
  EDA

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Mathematics/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E2%85%A1%28H%29/Rings/">
          
  
  
    
  
  Mathematics

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Paper/">
          
  
  
    
  
  Papers

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Misc/">
          
  
  
    
  
  Miscellaneous

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="导航栏" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="HobbitQia的笔记本" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="HobbitQia的笔记本">
<img alt="logo" src="../../log.ico"/>
</a>
    HobbitQia的笔记本
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/HobbitQia/notebook/" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    HobbitQia/notebook
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Home
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../changelog/">
<span class="md-ellipsis">
    更新记录
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../link/">
<span class="md-ellipsis">
    友链
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Computer Science
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ds/">
<span class="md-ellipsis">
    数据结构与算法
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
            数据结构与算法
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ds/algorithm/">
<span class="md-ellipsis">
    算法分析
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ds/tree/">
<span class="md-ellipsis">
    树
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ds/heap/">
<span class="md-ellipsis">
    堆
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ds/set/">
<span class="md-ellipsis">
    并查集
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ds/graph/">
<span class="md-ellipsis">
    图论
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ds/sort/">
<span class="md-ellipsis">
    排序
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ds/hash/">
<span class="md-ellipsis">
    散列
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ADS/">
<span class="md-ellipsis">
    高级数据结构与算法分析
    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            高级数据结构与算法分析
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../dip/">
<span class="md-ellipsis">
    图像信息处理
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            图像信息处理
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip1/">
<span class="md-ellipsis">
    图像信息处理介绍
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip2/">
<span class="md-ellipsis">
    二值图像和形态学
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip3/">
<span class="md-ellipsis">
    图像灰度变换与直方图
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip5/">
<span class="md-ellipsis">
    几何变换
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip6/">
<span class="md-ellipsis">
    卷积与滤波
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip7/">
<span class="md-ellipsis">
    双边滤波的加速
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip8/">
<span class="md-ellipsis">
    引导滤波
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip9/">
<span class="md-ellipsis">
    稀疏范数滤波
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip10/">
<span class="md-ellipsis">
    傅里叶变换
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip11/">
<span class="md-ellipsis">
    图像特征检测和提取
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dip/dip12/">
<span class="md-ellipsis">
    深度学习
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../OOP/">
<span class="md-ellipsis">
    面向对象程序设计
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
            面向对象程序设计
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop1/">
<span class="md-ellipsis">
    Introduction
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop2/">
<span class="md-ellipsis">
    Class
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop3/">
<span class="md-ellipsis">
    Container
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop4/">
<span class="md-ellipsis">
    Function
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop5/">
<span class="md-ellipsis">
    Constant and Static
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop6/">
<span class="md-ellipsis">
    Inheritance
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop7/">
<span class="md-ellipsis">
    Polymorphism
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop8/">
<span class="md-ellipsis">
    Copy Ctor
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop9/">
<span class="md-ellipsis">
    Overloaded Operators
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop10/">
<span class="md-ellipsis">
    Templates
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop11/">
<span class="md-ellipsis">
    Exception
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OOP/oop12/">
<span class="md-ellipsis">
    Smart Pointers
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../Quan/">
<span class="md-ellipsis">
    量子计算理论与软件系统
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
            量子计算理论与软件系统
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Quan/chap1/">
<span class="md-ellipsis">
    量子态与量子门
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Quan/chap2/">
<span class="md-ellipsis">
    量子测量
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../TCS/">
<span class="md-ellipsis">
    计算理论
    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
            计算理论
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../AOR/">
<span class="md-ellipsis">
    应用运筹学基础
    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_7">
<span class="md-nav__icon md-icon"></span>
            应用运筹学基础
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-ellipsis">
    System
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            System
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../ICS/">
<span class="md-ellipsis">
    计算机系统概论
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
            计算机系统概论
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ICS/ICS-1/">
<span class="md-ellipsis">
    Introduction
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ICS/ICS-2/">
<span class="md-ellipsis">
    Bits, Data Types and Operations
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ICS/ICS-3/">
<span class="md-ellipsis">
    Digital Logic Structures
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ICS/ICS-4/">
<span class="md-ellipsis">
    The von Neumann Model
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ICS/ICS-5/">
<span class="md-ellipsis">
    LC-3
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ICS/ICS-6/">
<span class="md-ellipsis">
    Programming
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ICS/ICS-7/">
<span class="md-ellipsis">
    Assembly Language
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ICS/ICS-8/">
<span class="md-ellipsis">
    Data Structures
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ICS/ICS-9/">
<span class="md-ellipsis">
    I/0
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
<span class="md-ellipsis">
    CSAPP
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            CSAPP
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../5/">
<span class="md-ellipsis">
    优化程序性能
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    存储器层次结构
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    存储器层次结构
    
  </span>
</a>
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
<span class="md-ellipsis">
      存储技术
    </span>
</a>
<nav aria-label="存储技术" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
<span class="md-ellipsis">
      随机访问存储器
    </span>
</a>
<nav aria-label="随机访问存储器" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#sram">
<span class="md-ellipsis">
      SRAM
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dram">
<span class="md-ellipsis">
      DRAM
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
<span class="md-ellipsis">
      非易失存储器
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
<span class="md-ellipsis">
      访问主存
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
<span class="md-ellipsis">
      磁盘存储
    </span>
</a>
<nav aria-label="磁盘存储" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
<span class="md-ellipsis">
      磁盘构造
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
<span class="md-ellipsis">
      磁盘容量
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
<span class="md-ellipsis">
      磁盘操作
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
<span class="md-ellipsis">
      逻辑磁盘块
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#io">
<span class="md-ellipsis">
      连接 I/O 设备
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
<span class="md-ellipsis">
      访问磁盘
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
<span class="md-ellipsis">
      固态硬盘
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
<span class="md-ellipsis">
      存储技术趋势
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
<span class="md-ellipsis">
      局部性
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_15">
<span class="md-ellipsis">
      存储器层次结构
    </span>
</a>
<nav aria-label="存储器层次结构" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_16">
<span class="md-ellipsis">
      缓存
    </span>
</a>
<nav aria-label="缓存" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_17">
<span class="md-ellipsis">
      缓存命中
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_18">
<span class="md-ellipsis">
      缓存不命中
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_19">
<span class="md-ellipsis">
      高速缓存存储器
    </span>
</a>
<nav aria-label="高速缓存存储器" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_20">
<span class="md-ellipsis">
      通用的高速缓存存储器组织架构
    </span>
</a>
<nav aria-label="通用的高速缓存存储器组织架构" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_21">
<span class="md-ellipsis">
      直接映射高速缓存
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_22">
<span class="md-ellipsis">
      级相联高速缓存
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_23">
<span class="md-ellipsis">
      全相联高速缓存
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_24">
<span class="md-ellipsis">
      写操作
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_25">
<span class="md-ellipsis">
      真实的高速缓存层次结构
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_26">
<span class="md-ellipsis">
      高速缓存参数对性能的影响
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_27">
<span class="md-ellipsis">
      存储器山
    </span>
</a>
<nav aria-label="存储器山" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_28">
<span class="md-ellipsis">
      重新排列循环以提高空间局部性
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_29">
<span class="md-ellipsis">
      使用分块提高时间局部性
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../7/">
<span class="md-ellipsis">
    链接
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../8/">
<span class="md-ellipsis">
    异常控制流
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../9/">
<span class="md-ellipsis">
    虚拟内存
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../Logic/">
<span class="md-ellipsis">
    计算机逻辑设计基础
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            计算机逻辑设计基础
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Logic/logic01/">
<span class="md-ellipsis">
    数字系统和信息
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Logic/logic02/">
<span class="md-ellipsis">
    组合逻辑电路
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Logic/logic03/">
<span class="md-ellipsis">
    组合逻辑电路设计
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Logic/logic04/">
<span class="md-ellipsis">
    时序逻辑电路
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Logic/logic06/">
<span class="md-ellipsis">
    寄存器与寄存器传输
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Logic/logic05/">
<span class="md-ellipsis">
    数字硬件设计
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Logic/logic07/">
<span class="md-ellipsis">
    内存基础
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../DB/">
<span class="md-ellipsis">
    数据库系统
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            数据库系统
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db1/">
<span class="md-ellipsis">
    数据库介绍
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db2/">
<span class="md-ellipsis">
    关系模型
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db3/">
<span class="md-ellipsis">
    SQL 语言介绍
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db4/">
<span class="md-ellipsis">
    中级 SQL
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db5/">
<span class="md-ellipsis">
    高级 SQL
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db6/">
<span class="md-ellipsis">
    实体-关系模型
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db7/">
<span class="md-ellipsis">
    关系数据库设计
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db8/">
<span class="md-ellipsis">
    物理存储系统
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db9/">
<span class="md-ellipsis">
    数据存储结构
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db10/">
<span class="md-ellipsis">
    索引
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db11/">
<span class="md-ellipsis">
    查询处理
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db12/">
<span class="md-ellipsis">
    查询优化
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db13/">
<span class="md-ellipsis">
    事务
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db14/">
<span class="md-ellipsis">
    并发控制
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DB/db15/">
<span class="md-ellipsis">
    故障恢复
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../CO/">
<span class="md-ellipsis">
    计算机组成与设计
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            计算机组成与设计
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../CO/co1/">
<span class="md-ellipsis">
    计算机概要与技术
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CO/co3/">
<span class="md-ellipsis">
    计算机的算术运算
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CO/co2/">
<span class="md-ellipsis">
    指令：计算机的语言
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CO/co4/">
<span class="md-ellipsis">
    处理器
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CO/co5/">
<span class="md-ellipsis">
    内存层次架构
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CO/co6/">
<span class="md-ellipsis">
    存储和 IO
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../CA/">
<span class="md-ellipsis">
    计算机体系结构
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            计算机体系结构
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../CA/CA1/">
<span class="md-ellipsis">
    计算机设计基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CA/CA2/">
<span class="md-ellipsis">
    流水线
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CA/CA3/">
<span class="md-ellipsis">
    内存层次
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CA/CA4/">
<span class="md-ellipsis">
    指令级并行
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CA/CA5/">
<span class="md-ellipsis">
    DLP 和 TLP
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../OS/">
<span class="md-ellipsis">
    操作系统原理与实践
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_7">
<span class="md-nav__icon md-icon"></span>
            操作系统原理与实践
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap01/">
<span class="md-ellipsis">
    OS 结构
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap02/">
<span class="md-ellipsis">
    进程
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap03/">
<span class="md-ellipsis">
    进程间通信
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap04/">
<span class="md-ellipsis">
    线程
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap05/">
<span class="md-ellipsis">
    调度
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap06/">
<span class="md-ellipsis">
    同步
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap07/">
<span class="md-ellipsis">
    死锁
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap08/">
<span class="md-ellipsis">
    主存
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap09/">
<span class="md-ellipsis">
    虚拟内存
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap10/">
<span class="md-ellipsis">
    大容量存储
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap11/">
<span class="md-ellipsis">
    I/O 系统
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap12/">
<span class="md-ellipsis">
    文件系统接口
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../OS/chap13/">
<span class="md-ellipsis">
    文件系统实现
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../Compiler/">
<span class="md-ellipsis">
    编译原理
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_8">
<span class="md-nav__icon md-icon"></span>
            编译原理
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Compiler/lec1/">
<span class="md-ellipsis">
    介绍
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Compiler/lec2/">
<span class="md-ellipsis">
    词法分析
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Compiler/lec3/">
<span class="md-ellipsis">
    语法分析
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    AI
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            AI
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../DL/">
<span class="md-ellipsis">
    Deep Learning
    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
            Deep Learning
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../DL/lec01/">
<span class="md-ellipsis">
    图像分类
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DL/lec02/">
<span class="md-ellipsis">
    线性分类器
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DL/lec03/">
<span class="md-ellipsis">
    优化
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DL/lec04/">
<span class="md-ellipsis">
    神经网络
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DL/lec05/">
<span class="md-ellipsis">
    反向传播
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DL/lec06/">
<span class="md-ellipsis">
    卷积神经网络
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DL/lec07/">
<span class="md-ellipsis">
    CNN 架构
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../TinyML/">
<span class="md-ellipsis">
    Efficient ML
    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            Efficient ML
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../TinyML/pruning/">
<span class="md-ellipsis">
    剪枝与稀疏性
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../TinyML/quantization/">
<span class="md-ellipsis">
    量化
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../TinyML/llm/">
<span class="md-ellipsis">
    Transformer &amp; LLM
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../TinyML/finetune/">
<span class="md-ellipsis">
    微调和提示工程
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../TinyML/post-training/">
<span class="md-ellipsis">
    训练后 LLM
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../EDA/">
<span class="md-ellipsis">
    EDA
    
  </span>
</a>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            EDA
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../EDA/VLSI/">
<span class="md-ellipsis">
    数字集成电路设计
    
  </span>
</a>
<label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
            数字集成电路设计
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../EDA/VLSI/lec01/">
<span class="md-ellipsis">
    介绍
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../EDA/VLSI/lec03/">
<span class="md-ellipsis">
    逻辑综合
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../EDA/VLSI/lec04/">
<span class="md-ellipsis">
    时序分析
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../EDA/VLSI/lec05/">
<span class="md-ellipsis">
    芯片物理设计
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../EDA/VLSI/lec06/">
<span class="md-ellipsis">
    布局
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../EDA/VLSI/lec07/">
<span class="md-ellipsis">
    时钟树综合
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Mathematics
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Mathematics
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
<span class="md-ellipsis">
    线性代数
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_1">
<span class="md-nav__icon md-icon"></span>
            线性代数
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Mathematics/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E2%85%A1%28H%29/Rings/">
<span class="md-ellipsis">
    线性代数Ⅱ(H)
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
<span class="md-ellipsis">
    数据建模与分析
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_2">
<span class="md-nav__icon md-icon"></span>
            数据建模与分析
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../MLT/report/">
<span class="md-ellipsis">
    读书报告
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MLT/mlt2/">
<span class="md-ellipsis">
    感知机
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../Paper/">
<span class="md-ellipsis">
    Papers
    
  </span>
</a>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Papers
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
<span class="md-ellipsis">
    LLM Training
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_2">
<span class="md-nav__icon md-icon"></span>
            LLM Training
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/ZeRO/">
<span class="md-ellipsis">
    ZeRO
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/Megatron-LM/">
<span class="md-ellipsis">
    Megatron-LM
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/GPipe/">
<span class="md-ellipsis">
    GPipe
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/mixed_precision/">
<span class="md-ellipsis">
    混合精度训练
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
<span class="md-ellipsis">
    LLM Inference
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_3">
<span class="md-nav__icon md-icon"></span>
            LLM Inference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/PagedAttention/">
<span class="md-ellipsis">
    PagedAttention &amp; vLLM
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/QServe/">
<span class="md-ellipsis">
    QServe
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
<span class="md-ellipsis">
    LLM
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_4">
<span class="md-nav__icon md-icon"></span>
            LLM
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/GPT-1/">
<span class="md-ellipsis">
    GPT-1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/GPT-2/">
<span class="md-ellipsis">
    GPT-2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/GPT-3/">
<span class="md-ellipsis">
    GPT-3
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/LLM2Vec/">
<span class="md-ellipsis">
    LLM2Vec
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
<span class="md-ellipsis">
    Accelerators
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_5">
<span class="md-nav__icon md-icon"></span>
            Accelerators
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/FAST/">
<span class="md-ellipsis">
    FAST
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/softmax/">
<span class="md-ellipsis">
    Softmax 加速
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/NN-LUT/">
<span class="md-ellipsis">
    NN-LUT
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
<span class="md-ellipsis">
    CGRA
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_6">
<span class="md-nav__icon md-icon"></span>
            CGRA
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/VecPAC/">
<span class="md-ellipsis">
    VecPAC
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/APEX/">
<span class="md-ellipsis">
    APEX
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="0">
<span class="md-ellipsis">
    Diffusion
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_7">
<span class="md-nav__icon md-icon"></span>
            Diffusion
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/T2I_RL/">
<span class="md-ellipsis">
    Diffusion + RL
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="0">
<span class="md-ellipsis">
    Compilation
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_8">
<span class="md-nav__icon md-icon"></span>
            Compilation
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/Seer/">
<span class="md-ellipsis">
    SEER
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_9" id="__nav_7_9_label" tabindex="0">
<span class="md-ellipsis">
    Others
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_9">
<span class="md-nav__icon md-icon"></span>
            Others
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/BiS-KM/">
<span class="md-ellipsis">
    BiS-KM
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/ChatEDA/">
<span class="md-ellipsis">
    ChatEDA
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Paper/CLIP/">
<span class="md-ellipsis">
    CLIP
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../Misc/">
<span class="md-ellipsis">
    Miscellaneous
    
  </span>
</a>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Miscellaneous
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Misc/float/">
<span class="md-ellipsis">
    浮点数与定点数
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Misc/fpga/">
<span class="md-ellipsis">
    FPGA Programming
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
<span class="md-ellipsis">
    LLVM
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_4">
<span class="md-nav__icon md-icon"></span>
            LLVM
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Misc/LLVM/ir/">
<span class="md-ellipsis">
    LLVM IR
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
<span class="md-ellipsis">
    CGRA
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_5">
<span class="md-nav__icon md-icon"></span>
            CGRA
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Misc/CGRA/intro/">
<span class="md-ellipsis">
    CGRA 介绍
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_6" id="__nav_8_6_label" tabindex="0">
<span class="md-ellipsis">
    PIM
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_6">
<span class="md-nav__icon md-icon"></span>
            PIM
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Misc/PIM/upmem/">
<span class="md-ellipsis">
    PIM 架构介绍
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_7" id="__nav_8_7_label" tabindex="0">
<span class="md-ellipsis">
    Android
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_7">
<span class="md-nav__icon md-icon"></span>
            Android
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../android/dataflow/">
<span class="md-ellipsis">
    触控事件的数据流
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
<span class="md-ellipsis">
      存储技术
    </span>
</a>
<nav aria-label="存储技术" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
<span class="md-ellipsis">
      随机访问存储器
    </span>
</a>
<nav aria-label="随机访问存储器" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#sram">
<span class="md-ellipsis">
      SRAM
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dram">
<span class="md-ellipsis">
      DRAM
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
<span class="md-ellipsis">
      非易失存储器
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
<span class="md-ellipsis">
      访问主存
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
<span class="md-ellipsis">
      磁盘存储
    </span>
</a>
<nav aria-label="磁盘存储" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
<span class="md-ellipsis">
      磁盘构造
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
<span class="md-ellipsis">
      磁盘容量
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
<span class="md-ellipsis">
      磁盘操作
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
<span class="md-ellipsis">
      逻辑磁盘块
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#io">
<span class="md-ellipsis">
      连接 I/O 设备
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
<span class="md-ellipsis">
      访问磁盘
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
<span class="md-ellipsis">
      固态硬盘
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
<span class="md-ellipsis">
      存储技术趋势
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
<span class="md-ellipsis">
      局部性
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_15">
<span class="md-ellipsis">
      存储器层次结构
    </span>
</a>
<nav aria-label="存储器层次结构" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_16">
<span class="md-ellipsis">
      缓存
    </span>
</a>
<nav aria-label="缓存" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_17">
<span class="md-ellipsis">
      缓存命中
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_18">
<span class="md-ellipsis">
      缓存不命中
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_19">
<span class="md-ellipsis">
      高速缓存存储器
    </span>
</a>
<nav aria-label="高速缓存存储器" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_20">
<span class="md-ellipsis">
      通用的高速缓存存储器组织架构
    </span>
</a>
<nav aria-label="通用的高速缓存存储器组织架构" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_21">
<span class="md-ellipsis">
      直接映射高速缓存
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_22">
<span class="md-ellipsis">
      级相联高速缓存
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_23">
<span class="md-ellipsis">
      全相联高速缓存
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_24">
<span class="md-ellipsis">
      写操作
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_25">
<span class="md-ellipsis">
      真实的高速缓存层次结构
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_26">
<span class="md-ellipsis">
      高速缓存参数对性能的影响
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_27">
<span class="md-ellipsis">
      存储器山
    </span>
</a>
<nav aria-label="存储器山" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_28">
<span class="md-ellipsis">
      重新排列循环以提高空间局部性
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_29">
<span class="md-ellipsis">
      使用分块提高时间局部性
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="_1">存储器层次结构<a class="headerlink" href="#_1" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"></path></svg></span> 约<span class="heti-skip"><span class="heti-spacing"> </span>7530<span class="heti-spacing"> </span></span>个字 <span class="twemoji"><svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z"></path></svg></span> <span>8<span class="heti-spacing"> </span></span>行代码 <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"></path></svg></span> <span>30<span class="heti-spacing"> </span></span>张图片 <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"></path></svg></span> 预计阅读时间<span class="heti-skip"><span class="heti-spacing"> </span>25<span class="heti-spacing"> </span></span>分钟</p>
</div>
<h2 id="_2">存储技术<a class="headerlink" href="#_2" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h2>
<h3 id="_3">随机访问存储器<a class="headerlink" href="#_3" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p><strong>随机访问存储器<span><span class="heti-spacing"> </span>(Random-Access Memory, RAM)</span></strong> 根据存储单元可分为两类<span class="heti-skip"><span class="heti-spacing"> </span>:<span class="heti-spacing"> </span></span>静态的 <em>RAM(SRAM)</em> 和动态的 <em>RAM(DRAM)</em>.  </p>
<p><img alt="" src="https://pic4.zhimg.com/80/v2-933c9f4227843802cce01e44b5b7b867_1440w.png"/></p>
<h4 id="sram">SRAM<a class="headerlink" href="#sram" title="Permanent link">¶</a></h4>
<p><span>SRAM<span class="heti-spacing"> </span></span>将每个位存储在一个<em>双稳态<span><span class="heti-spacing"> </span>(bistable)</span></em> 的存储单元里<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>每个单元用一个六晶体管电路实现<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>它可以无限期地保持在两个不同的电压配置或者状态之一<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>其他任何状态都是不稳定的<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>电路会迅速地转移到两个稳定状态中的一个<span><span class="heti-spacing"> </span>.</span> <br/>
<img alt="20220817085904" src="https://s2.loli.net/2022/08/17/aTPur45q7NtFBGz.png"/><br/>
<strong>注</strong><span>:<span class="heti-spacing"> </span></span>当钟摆在垂直的位置时<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>处于<em>亚稳态</em><span>,<span class="heti-spacing"> </span></span>最细微的扰动也能使它倒下<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>且无法恢复<span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li>特点<br/>
只要有电, 它就能永远保持它的值, 即使有干扰来扰乱电压, 当干扰消除时电路就会恢复到稳定值.  </li>
</ul>
<h4 id="dram">DRAM<a class="headerlink" href="#dram" title="Permanent link">¶</a></h4>
<p><span>DRAM<span class="heti-spacing"> </span></span>将每个位存储为对一个电容的充电<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>每个单元由一个电容和一个访问晶体管组成<span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li>
<p>特点<span><span class="heti-spacing"> </span>:</span></p>
<ul>
<li>每个电容非常小<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>因此可以<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>存储器可以制造得非常密集<span><span class="heti-spacing"> </span>.</span> </li>
<li><span>DRAM<span class="heti-spacing"> </span></span>存储器对干扰非常敏感<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>当电容电压被扰乱后就永远不会恢复了<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>暴露在光线中会导致电容电压改变<span><span class="heti-spacing"> </span>.</span> </li>
<li>很多原因会导致漏电<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>使得<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>单元在<span class="heti-skip"><span class="heti-spacing"> </span>10~100<span class="heti-spacing"> </span></span>毫秒时间内失去电荷<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>因此内存必须周期性地通过读出<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>然后重写来刷新内存每一位<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
</li>
</ul>
<p>传统的<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>芯片中的单元<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>位<span class="heti-skip"><span class="heti-spacing"> </span>)<span class="heti-spacing"> </span></span>被分成<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(d\)</span><span class="heti-spacing"> </span></span>个超单元<span class="heti-skip"><span class="heti-spacing"> </span>(supercell),<span class="heti-spacing"> </span></span>每个超单元都由<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(w\)</span><span class="heti-spacing"> </span></span>个<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>单元组成<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>一个<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(d\times w\)</span><span class="heti-spacing"> </span></span>的<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>总共存储了<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(dw\)</span><span class="heti-spacing"> </span></span>位信息<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>超单元被组织成一个<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(r\)</span><span class="heti-spacing"> </span></span>行<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(c\)</span><span class="heti-spacing"> </span></span>列长方形阵列<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>这里<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(rc=d\)</span>.<span class="heti-spacing"> </span></span>信息通过称为<strong><span>addr<span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span>data<span class="heti-spacing"> </span></span>引脚<span><span class="heti-spacing"> </span>(pin)</span></strong>的外部连接器流入和流出芯片<span><span class="heti-spacing"> </span>.</span><br/>
每个 DRAM 芯片被连接到<strong>内存控制器</strong>的电路<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>这个电路可以一次传送<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(w\)</span><span class="heti-spacing"> </span></span>位到每个<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>芯片或一次从<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>芯片传出<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(w\)</span><span class="heti-spacing"> </span></span>位<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>为了读出<span class="heti-skip"><span class="heti-spacing"> </span>(i,j)<span class="heti-spacing"> </span></span>的内容<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>内存控制器将行地址<span class="heti-skip"><span class="heti-spacing"> </span>i<span class="heti-spacing"> </span></span>发送到<span class="heti-skip"><span class="heti-spacing"> </span>DRAM,<span class="heti-spacing"> </span></span>然后是列地址<span class="heti-skip"><span class="heti-spacing"> </span>j. DRAM<span class="heti-spacing"> </span></span>把超单元<span class="heti-skip"><span class="heti-spacing"> </span>(i,j)<span class="heti-spacing"> </span></span>的内容发回给控制器作为相应<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>行地址<span class="heti-skip"><span class="heti-spacing"> </span>i<span class="heti-spacing"> </span></span>称为<strong>RAS(Row Access Strobe)</strong><span>,<span class="heti-spacing"> </span></span>列地址称为 <strong>CAS(Column Access Strobe)</strong>.   </p>
<div class="admonition example">
<p class="admonition-title">一个<span class="heti-skip"><span class="heti-spacing"> </span>128<span class="heti-spacing"> </span></span>位的<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(16\times 8\)</span><span class="heti-spacing"> </span></span>的<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>芯片</p>
<p><img alt="" src="https://pic2.zhimg.com/80/v2-09684a145353368254bbeffd40811319_1440w.jpg"/><br/>
有 <span class="arithmatex">\(d=16\)</span> 个超单元, 每个超单元存储 <span class="arithmatex">\(w=8\)</span> 位信息. 例如我们要取 (2,1) 的内容, 先通过 addr 发送行地址 2, DRAM 会将该行内容复制到一个内部行缓冲区, 接下来发送列地址 1, DRAM 将超单元(2,1) 取出并通过 data 发送回内存控制器.  </p>
</div>
<p>电路设计者将<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>组织成二维阵列而不是线性数组的一个原因是降低芯片上地址引脚的数量<span><span class="heti-spacing"> </span>. i.e. <span class="arithmatex">\(\max(\lceil \log_2{r} \rceil,\lceil \log_2{c} \rceil)\)</span></span> </p>
<p><span>DRAM<span class="heti-spacing"> </span></span>芯片封装在<strong>内存模块</strong>中<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>它插到主板的扩展槽上<span><span class="heti-spacing"> </span>.</span> </p>
<div class="admonition example">
<p class="admonition-title"><span>8<span class="heti-spacing"> </span></span>个<span class="heti-skip"><span class="heti-spacing"> </span>8M<span class="arithmatex">\(\times\)</span>8<span class="heti-spacing"> </span></span>的<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>组成的内存模块</p>
<p><img alt="" src="https://pic4.zhimg.com/80/v2-604407000fe483d31503470dce970bcf_1440w.jpg"/>
 要从内存地址 A 取一个字, 内存控制器将 A 转化为一个超单元地址 (i,j), 并将它发送到内存模块, 然后内存模块再将 i 和 j 广播到每个 DRAM. 每个 DRAM 输出它的 (i,j) 超单元的 8 位内容, 模块中的电路收集这些输出并将它们合并为一个 64 位的字, 再返回内存控制器.  </p>
</div>
<p>我们可以将多个内存模块连接到内存控制器<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>聚合成主存<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>这种情况下内存控制器收到地址<span class="heti-skip"><span class="heti-spacing"> </span>A<span class="heti-spacing"> </span></span>时会先找到包含地址<span class="heti-skip"><span class="heti-spacing"> </span>A<span class="heti-spacing"> </span></span>的内存模块<span class="heti-skip"><span class="heti-spacing"> </span>A,<span class="heti-spacing"> </span></span>然后按照上述步骤得到字<span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li>增强的<span><span class="heti-spacing"> </span>DRAM</span> <ul>
<li><strong>快页模式<span><span class="heti-spacing"> </span>DRAM(Fast Page Mode DRAM, FPM DRAM)</span></strong><br/>
传统的 DRAM 将超单元一整行复制到它的内部行缓冲区, 使用一个然后丢弃剩余的. FPM DRAM 允许对同一行连续地访问可以直接从行缓冲区得到服务.  </li>
<li><strong>扩展数据输出的<span><span class="heti-spacing"> </span>DRAM(Extended Data Out DRAM, EDO DRAM)</span></strong><br/>
FPM DRAM 的增强形式, 允许各个 CAS 信号在时间上靠得更紧密一点.  </li>
<li><strong>同步<span><span class="heti-spacing"> </span>DRAM(Synchronous DRAM, SDRAM)</span></strong><br/>
他们与内存控制器通信使用一组显式的控制信号(FPM EDO都是异步的), 最终效果是 SDRAM 能比异步的存储器更快地输出超单元的内容.  </li>
<li><strong>双倍数据速率同步<span><span class="heti-spacing"> </span>DRAM(Double Data-Rate Synchronous DRAM, DDR SDRAM)</span></strong><br/>
使用两个时钟沿作为控制信号, 从而使 DRAM 的速度翻倍.  </li>
<li><strong>视频<span><span class="heti-spacing"> </span>RAM(Video RAM, VVRAM)</span></strong> </li>
</ul>
</li>
</ul>
<h4 id="_4">非易失存储器<a class="headerlink" href="#_4" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>如果断电<span class="heti-skip"><span class="heti-spacing"> </span>, DRAM<span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span>SRAM<span class="heti-spacing"> </span></span>会丢失他们的信息<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>因此他们是<strong>易失的<span><span class="heti-spacing"> </span>(volatile)</span></strong><span>.<span class="heti-spacing"> </span></span>而<strong>非易失存储器<span><span class="heti-spacing"> </span>(Nonvolatile Memory)</span></strong> 即使断电也能保存他们的信息<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>这类存储器称为<strong>只读存储器<span><span class="heti-spacing"> </span>(Read-Only Memory, ROM)</span></strong><span>.(<span class="heti-spacing"> </span></span>部分存储器可以读写<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>历史原因我们保留名字<span><span class="heti-spacing"> </span>)</span></p>
<ul>
<li><strong><span>PROM(Programmable ROM,<span class="heti-spacing"> </span></span>可编程<span><span class="heti-spacing"> </span>ROM)</span></strong><span>:<span class="heti-spacing"> </span></span>只能被编程一次<span class="heti-skip"><span class="heti-spacing"> </span>, PROM<span class="heti-spacing"> </span></span>每个存储器单元都有一种熔丝<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>只能用高电流熔断一次<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>可擦写可编程<span><span class="heti-spacing"> </span>ROM(Erasable Programmable ROM, EPROM)</span></strong><span>:<span class="heti-spacing"> </span></span>可以批量擦除   </li>
<li><strong>闪存<span><span class="heti-spacing"> </span>(Flash Memory)</span></strong><span>:<span class="heti-spacing"> </span></span>具有部分<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>块级<span class="heti-skip"><span class="heti-spacing"> </span>)<span class="heti-spacing"> </span></span>擦除功能<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>大约擦除十万次后会耗尽<br/>
存储在 ROM 设备中的程序称为<strong>固件<span><span class="heti-spacing"> </span>(firmware)</span></strong><span>.<span class="heti-spacing"> </span></span>当一个计算机系统通电后<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>它会运行存储在<span class="heti-skip"><span class="heti-spacing"> </span>ROM<span class="heti-spacing"> </span></span>中的固件<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<h4 id="_5">访问主存<a class="headerlink" href="#_5" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>数据流通过 <strong>总线<span><span class="heti-spacing"> </span>(bus)</span></strong> 的共享电子电路在处理器和<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>主存之间来回回传递数据<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>每次<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>和主存之间的数据传送都是通过<strong>总线事务<span><span class="heti-spacing"> </span>(bus transaction)</span></strong>来完成<span><span class="heti-spacing"> </span>.</span><br/>
<strong>总线</strong>是一组并行的导线<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>能携带地址<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>数据和控制信号<span><span class="heti-spacing"> </span>.</span> </p>
<div align="center"> <img src="https://pic2.zhimg.com/80/v2-60ee1fa13df03d55d7ec6e40298025fd_1440w.jpg" width="70%/"/> </div>
<p>其中<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>桥接器中包括内存控制器<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>能够将系统总线的电子信号和内存总线的电子信号互相翻译<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>也能将系统总线和内存总线连接到<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>总线<span><span class="heti-spacing"> </span>.</span> </p>
<div class="admonition example">
<p class="admonition-title">读事务<span class="heti-skip"><span class="heti-spacing"> </span>&amp;<span class="heti-spacing"> </span></span>写事务</p>
<p>从内存中加载数据到寄存器<span><span class="heti-spacing"> </span>:</span> <code>movq A, %rax</code> </p>
<ul>
<li><span>CPU<span class="heti-spacing"> </span></span>将 地址<span class="heti-skip"><span class="heti-spacing"> </span>A<span class="heti-spacing"> </span></span>放到系统总线上<span class="heti-skip"><span class="heti-spacing"> </span>, I/O<span class="heti-spacing"> </span></span>桥将信号传递到内存总线<span><span class="heti-spacing"> </span>.</span> </li>
<li>主存感知到内存总线上的地址信号<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>从内存总线读地址<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>从<span class="heti-skip"><span class="heti-spacing"> </span>DRAM<span class="heti-spacing"> </span></span>取出数据字<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>并将数据写到内存总线<span class="heti-skip"><span class="heti-spacing"> </span>. I/O<span class="heti-spacing"> </span></span>总线将内存总线信号翻译成系统总线信号<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>然后沿着系统总线传递<span><span class="heti-spacing"> </span>.</span> </li>
<li><span>CPU<span class="heti-spacing"> </span></span>感知到系统总线上的数据<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>从总线上读数据<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>并将数据复制到寄存器<span><span class="heti-spacing"> </span>%rax.</span><br/>
<div align="center"> <img src="https://s2.loli.net/2022/08/17/bCvw8t2j5oOfJez.png" width="90%/"/> </div> </li>
</ul>
<p>写内存类似<span><span class="heti-spacing"> </span>:</span><br/>
</p><div align="center"> <img src="https://s2.loli.net/2022/08/17/ThqYc5WZFJAELiN.png" width="90%/"/> </div>
</div>
<h3 id="_6">磁盘存储<a class="headerlink" href="#_6" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p><strong>磁盘<span><span class="heti-spacing"> </span>(disk)</span></strong> 是广为应用的保存大量数据的存储设备<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>存储数据的数量级可以达到几百到几千千兆字节<span><span class="heti-spacing"> </span>.</span> </p>
<h4 id="_7">磁盘构造<a class="headerlink" href="#_7" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>磁盘是由 <strong>盘片<span><span class="heti-spacing"> </span>(platter)</span></strong> 构成的<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>每个盘片有两个<strong>表面</strong><span>.<span class="heti-spacing"> </span></span>表面覆盖着磁性记录材料<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>盘片中央有一个可以旋转的<strong>主轴<span><span class="heti-spacing"> </span>(spindle)</span></strong><span>,<span class="heti-spacing"> </span></span>它使得盘片以固定的旋转速率旋转<span><span class="heti-spacing"> </span>.</span><br/>
每个表面是由一组 <strong>磁道<span><span class="heti-spacing"> </span>(track)</span></strong> 的同心圆组成的<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>每个磁道被划分为一组<strong>扇区<span><span class="heti-spacing"> </span>(sector)</span></strong><span>.<span class="heti-spacing"> </span></span>每个扇区包含相等数量的数据位<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>通常是<span class="heti-skip"><span class="heti-spacing"> </span>512<span class="heti-spacing"> </span></span>字节<span class="heti-skip"><span class="heti-spacing"> </span>).<span class="heti-spacing"> </span></span>扇区之间由一些<strong>间隙</strong>分隔开<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>间隙不存储数据位<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>间隙存储用来标识扇区的格式化位<span><span class="heti-spacing"> </span>.</span><br/>
通常使用 <strong>柱面<span><span class="heti-spacing"> </span>(cyclinder)</span></strong> 来描述多个盘片驱动器的构造<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>柱面是所有盘片表面上到主轴中心的距离相等的磁道的集合<span><span class="heti-spacing"> </span>.</span> </p>
<p><img alt="20220817135618" src="https://s2.loli.net/2022/08/17/5LXZT3AWEsUDJtc.png"/> </p>
<h4 id="_8">磁盘容量<a class="headerlink" href="#_8" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>一个磁盘上可以记录的最大位数称为他的最大容量<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>主要由下列技术因素决定<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li><strong>记录密度</strong><span>(<span class="heti-spacing"> </span></span>位<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>英寸<span class="heti-skip"><span class="heti-spacing"> </span>):<span class="heti-spacing"> </span></span>磁道一英寸的段中可以放入的位数<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>磁道密度</strong><span>(<span class="heti-spacing"> </span></span>道<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>英寸<span class="heti-skip"><span class="heti-spacing"> </span>):<span class="heti-spacing"> </span></span>从盘片中心出发半径上一英寸的段内可以有的磁道数<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>面密度</strong><span>(<span class="heti-spacing"> </span></span>位<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>平方英尺<span class="heti-skip"><span class="heti-spacing"> </span>):<span class="heti-spacing"> </span></span>记录密度与磁道密度的乘积<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<p>为了保持每个磁道有固定的扇区数<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>越往外的磁道扇区隔得越开<span><span class="heti-spacing"> </span>.</span><br/>
现代大容量磁盘使用一种<strong>多区记录</strong>的技术<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>柱面的集合被分割成不相交的子集合<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>称为<strong>记录区</strong>.<br/>
磁盘容量计算公式:<br/>
<img alt="" src="https://pic4.zhimg.com/80/v2-e1f5a852f08d8fe6210b1f60dead54f3_1440w.png"/> </p>
<h4 id="_9">磁盘操作<a class="headerlink" href="#_9" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>磁盘用<strong>读<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>写头</strong>来读写存储在磁性表面的位<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>而读写头连接到一个<strong>传动臂</strong>一端<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>磁盘以扇区大小的块来读写数据<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>对扇区的<strong>访问时间</strong>有三个主要部分组成<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li><strong>寻道时间</strong><span>:<span class="heti-spacing"> </span></span>为了读取某个目标扇区的内容<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>传送臂首先将读<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>写头定位到包含目标扇区的磁道上<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>移动传送臂的时间称为寻道时间<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>寻道时间<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(T_{seek}\)</span><span class="heti-spacing"> </span></span>依赖于读<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>写头以前的位置和传送臂在盘面上移动的速度<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>旋转时间</strong><span>:<span class="heti-spacing"> </span></span>读<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>写头到期望的磁道后<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>驱动器等待目标扇区的第一个位旋转到读<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>写头下<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>这个步骤的性能依赖于读<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>写头到达目标扇区盘面的位置以及磁盘的旋转速度<span><span class="heti-spacing"> </span>.</span><br/>
最大旋转延迟 <span class="arithmatex">\(T_{max_rotation}=\frac{1}{RPM}\times \frac{60s}{1min}\)</span>(整周期), 平均旋转时间是最大延迟的一半.    </li>
<li><strong>传送时间</strong><span>:<span class="heti-spacing"> </span></span>当读<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>写头处于目标扇区的第一位时<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>就可以进行传送了<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>一个扇区的传送时间依赖于旋转速度和每条磁道的扇区数目<span><span class="heti-spacing"> </span>. <span class="arithmatex">\(T_{avg\_transfer}=\frac{1}{RPM}\times \frac{1}{平均扇区数/磁道}\times \frac{60s}{1min}\)</span></span></li>
</ul>
<p>我们可以发现<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>寻道时间和旋转时间是主要的影响部分<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>而且两者大致相等<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>可以据此估计使用时间<span><span class="heti-spacing"> </span>.</span> </p>
<h4 id="_10">逻辑磁盘块<a class="headerlink" href="#_10" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>为了对操作系统隐藏复杂性<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>现代磁盘将它们的构造呈现为一个简单的视图<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>一共<span class="heti-skip"><span class="heti-spacing"> </span>B<span class="heti-spacing"> </span></span>个扇区大小的<strong>逻辑块</strong>的序列<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>编号为<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(0,1,\ldots,B-1\)</span>.<span class="heti-spacing"> </span></span>磁盘封装中有一个小的硬件<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>固件设备<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>称为<strong>磁盘控制器</strong><span>,<span class="heti-spacing"> </span></span>维护逻辑块号和实际磁盘扇区的映射关系<span><span class="heti-spacing"> </span>.</span><br/>
当操作系统想要执行一个 I/O 操作时, 如从磁盘读取数据到主存:  </p>
<ul>
<li>操作系统发送一个命令道磁盘控制器<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>让它读某个逻辑块号<span><span class="heti-spacing"> </span>.</span> </li>
<li>硬盘控制器上的固件执行快速表查找<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>使得该逻辑块号翻译成一个三元组<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>盘面<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>磁道<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>扇区<span class="heti-skip"><span class="heti-spacing"> </span>)<span class="heti-spacing"> </span></span>的三元组  </li>
<li>磁盘控制器解释三元组信息<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>将读<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>写头移动到对应的扇区  </li>
<li>将读取到的信息放到磁盘控制器的缓冲区中  </li>
<li>将缓冲区中的数据复制到主存中  </li>
</ul>
<div class="admonition info">
<p class="admonition-title">磁盘格式化</p>
<p>磁盘控制器必须对磁盘进行格式化<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>然后才能在该磁盘上存储数据<span><span class="heti-spacing"> </span>.</span><br/>
格式化包括:  </p>
<ul>
<li>用标识扇区的信息填写扇区之间的间隙  </li>
<li>标识出表面有故障的柱面并且不使用他们  </li>
<li>在每个区中预留出一组柱面作为备用<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>因此格式化容量比最大容量要小<span><span class="heti-spacing"> </span>)</span> </li>
</ul>
</div>
<h4 id="io">连接<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>设备<a class="headerlink" href="#io" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<div align="center"> <img src="https://pic2.zhimg.com/80/v2-bd4ac92709b95027b115c086b3ba7e69_1440w.jpg" width="80%/"/> </div>
<p>如上图<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>图形卡<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>监视器<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>鼠标<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>键盘<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>磁盘这样的输入<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>输出<span class="heti-skip"><span class="heti-spacing"> </span>(I/O)<span class="heti-spacing"> </span></span>设备<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>都是通过<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>总线连接到<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>和主存<span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li><strong>通用串行<span class="heti-skip"><span class="heti-spacing"> </span>(Universal Serial Bus, USB)<span class="heti-spacing"> </span></span>控制器</strong>是一个连接到<span class="heti-skip"><span class="heti-spacing"> </span>USB<span class="heti-spacing"> </span></span>总线的设备的中转机构<span class="heti-skip"><span class="heti-spacing"> </span>, USB<span class="heti-spacing"> </span></span>总线是一个广泛使用的标准<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>连接各种外围<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>设备<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>图形卡<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>或适配器<span><span class="heti-spacing"> </span>)</span></strong> 包含硬件和软件逻辑<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>它们负责代表<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>在显示器上面画像素<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>主机总线适配器</strong>将一个或多个磁盘连接到<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>总线<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>使用的是一个特别的主机总线接口定义的通信协议<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>网络适配器</strong><span>:<span class="heti-spacing"> </span></span>可以通过将适配器插入主板上空的扩展槽中<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>从而连接到<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>总线<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<h4 id="_11">访问磁盘<a class="headerlink" href="#_11" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p><span>CPU<span class="heti-spacing"> </span></span>使用一种称为 <strong>内存映射<span><span class="heti-spacing"> </span>I/O</span></strong> 的技术来向<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>设备发射命令<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>地址空间中有一块地址是为与<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>设备通信保留的<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>每个这样的地址称为一个 <strong><span>I/O<span class="heti-spacing"> </span></span>端口</strong>.<br/>
设备可以自己执行读或者写总线事务而不需要 CPU 干涉的过程, 称为<strong>直接内存访问<span><span class="heti-spacing"> </span>(Direct Memory Access, DMA)</span></strong><span>,<span class="heti-spacing"> </span></span>这种数据传送称为 <strong><span>DMA<span class="heti-spacing"> </span></span>传送</strong>.</p>
<div class="admonition example">
<p class="admonition-title">磁盘读取</p>
<p>假设磁盘控制器映射到端口<code>0xa0</code><span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li>
<p><span>CPU<span class="heti-spacing"> </span></span>会通过对地址<span class="heti-skip"><span class="heti-spacing"> </span>0xa0<span class="heti-spacing"> </span></span>执行三个存储指令，将地址<span class="heti-skip"><span class="heti-spacing"> </span>0xa0<span class="heti-spacing"> </span></span>的内容保存到内存中，完成对磁盘的读取。发送完指令后，由于磁盘读取速度比<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>执行速度慢很多，所以<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>会先去执行其他工作<span><span class="heti-spacing"> </span>.</span></p>
<ul>
<li>指令<span><span class="heti-spacing"> </span>1</span>：发送一个命令字，告诉磁盘发起一个<span><span class="heti-spacing"> </span>Read</span></li>
<li>指令<span><span class="heti-spacing"> </span>2</span>：指明应该读取的逻辑块号</li>
<li>指令<span><span class="heti-spacing"> </span>3</span>：指明保存的内存地址</li>
</ul>
</li>
<li>
<p>磁盘控制器接收到<span class="heti-skip"><span class="heti-spacing"> </span>Read<span class="heti-spacing"> </span></span>命令后，会通过上述方法直接将磁盘内容传送到主存中<span class="heti-skip"><span class="heti-spacing"> </span>.(DMA<span class="heti-spacing"> </span></span>传送<span><span class="heti-spacing"> </span>)</span> </p>
</li>
<li>磁盘发送完数据后，会给<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>发送一个中断信号，暂停<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>正在做的工作，然后将控制返回到<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>被中断的地方<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
</div>
<h3 id="_12">固态硬盘<a class="headerlink" href="#_12" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p><strong>固态硬盘<span><span class="heti-spacing"> </span>(Solid State Disk, SSD)</span></strong> 是一种基于闪存的存储技术<span class="heti-skip"><span class="heti-spacing"> </span>. SSD<span class="heti-spacing"> </span></span>封装插在<span class="heti-skip"><span class="heti-spacing"> </span>I/O<span class="heti-spacing"> </span></span>总线上标准硬盘插槽<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>行为就和其他硬盘一样<span><span class="heti-spacing"> </span>.</span> <br/>
<img alt="" src="https://pic2.zhimg.com/80/v2-917429960df29b0a0591dcf2ce7b9599_1440w.jpg"/><br/>
上图是典型 SSD 的性能特征. 它由<strong>闪存</strong>和<strong>闪存翻译层</strong>组成<span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li><strong>闪存翻译层</strong><span>:<span class="heti-spacing"> </span></span>是一个硬件<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>固件设备<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>扮演与磁盘控制器相同的角色<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>将对逻辑块的请求翻译成对底层物理设备的访问<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>闪存</strong><span>:<span class="heti-spacing"> </span></span>闪存的基本属性决定了<span class="heti-skip"><span class="heti-spacing"> </span>SSD<span class="heti-spacing"> </span></span>随机读写的性能<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>通常由<span class="heti-skip"><span class="heti-spacing"> </span>B<span class="heti-spacing"> </span></span>个块的序列组成<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>每个块由<span class="heti-skip"><span class="heti-spacing"> </span>P<span class="heti-spacing"> </span></span>页组成<span><span class="heti-spacing"> </span>,</span> <strong>页</strong>作为数据的单位进行读写<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>通常页大小为<span class="heti-skip"><span class="heti-spacing"> </span>512<span class="heti-spacing"> </span></span>字节<span><span class="heti-spacing"> </span>-4KB</span>，块中包含<span class="heti-skip"><span class="heti-spacing"> </span>32-128<span class="heti-spacing"> </span></span>页<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>则块的大小有<span><span class="heti-spacing"> </span>16KB-512KB.</span> </li>
</ul>
<p>只有在一页所属的块整个被擦除之后<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>才能写这一页<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>因此读<span class="heti-skip"><span class="heti-spacing"> </span>SSD<span class="heti-spacing"> </span></span>比写要快<span><span class="heti-spacing"> </span>.</span><br/>
随机写很慢, 因为擦除块需要相对较长的时间, 而且如果写操作试图修改一个包含已经有数据的页 p, 那么这个块种所有带有用数据的页必须被复制到一个新(擦除过的)块.<br/>
闪存块会磨损, 所以 SSD 也容易磨损. 闪存翻译层中的<strong>平均磨损逻辑</strong>试图通过将擦除平均分布在所有的块上来最大化每个块的寿命<span><span class="heti-spacing"> </span>.</span> </p>
<p><span>SSD<span class="heti-spacing"> </span></span>的优缺点：</p>
<ul>
<li><strong>优点</strong><span>:<span class="heti-spacing"> </span></span>由于闪存是半导体存储器，没有移动的部件，所以速度比磁盘更快且磨损小，能耗低<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>缺点</strong><span>: SSD<span class="heti-spacing"> </span></span>每字节比磁盘贵大约<span class="heti-skip"><span class="heti-spacing"> </span>30<span class="heti-spacing"> </span></span>倍，所以常用的存储容量比磁盘小<span class="heti-skip"><span class="heti-spacing"> </span>100<span class="heti-spacing"> </span></span>倍左右<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<h3 id="_13">存储技术趋势<a class="headerlink" href="#_13" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p><img alt="" src="https://pic2.zhimg.com/80/v2-131afd9a55e4f5355cb0f0e776ba10a5_1440w.jpg"/></p>
<ul>
<li><strong>不同的存储技术有不同的价格和性能折中</strong>.<br/>
SRAM 比 DRAM 快一点, 而 DRAM 比 磁盘块很多. 另一方面, 快速存储总是比慢速存储要贵的.  </li>
<li><strong>不同存储技术的价格和性能属性以截然不同的属性变化着</strong> </li>
</ul>
<p><span>DRAM<span class="heti-spacing"> </span></span>和磁盘的性能滞后于<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>的性能<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>而<span class="heti-skip"><span class="heti-spacing"> </span>SRAM<span class="heti-spacing"> </span></span>的性能虽然也滞后于<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>性能<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>但是还保持增长<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>所以现代计算机会使用基于<span class="heti-skip"><span class="heti-spacing"> </span>SRAM<span class="heti-spacing"> </span></span>的高速缓存<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>来弥补<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>和内存之间的差距<span><span class="heti-spacing"> </span>.</span> </p>
<h2 id="_14">局部性<a class="headerlink" href="#_14" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h2>
<p>具有良好<strong>局部性<span><span class="heti-spacing"> </span>(locality)</span></strong> 的程序<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>即它们倾向于引用最近引用过的数据项周围的数据项<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>或者最近引用过的数据项<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>这被称为<strong>局部性原理</strong><span>.<span class="heti-spacing"> </span></span>局部性有两种形式<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li><strong>时间局部性<span><span class="heti-spacing"> </span>(temporal locality)</span></strong><span>:<span class="heti-spacing"> </span></span>被引用过一次的内存位置很可能在不远的将来再被多次引用<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>空间局部性<span><span class="heti-spacing"> </span>(space locality)</span></strong><span>:<span class="heti-spacing"> </span></span>如果一个内存位置被引用了一次<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>那么程序很可能在不远的将来引用附近的一个内存位置<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<p>一般而言<span><span class="heti-spacing"> </span>,</span> <strong>有良好局部性的程序比局部性差的程序运行得更快</strong>.</p>
<div class="admonition example">
<p class="admonition-title">局部性的应用</p>
<p>从硬件到操作系统，再到应用程序，都利用了局部性<span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li><strong>硬件</strong><span>:<span class="heti-spacing"> </span></span>在处理器和主存之间引入一个小而快速的高速缓存存储器<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>来保存最近引用的指令和数据<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>从而提高对主存的访问速度<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>操作系统</strong><span>:<span class="heti-spacing"> </span></span>用主存来缓存虚拟空间中最近被引用的数据块<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>应用程序</strong><span>:<span class="heti-spacing"> </span></span>比如<span class="heti-skip"><span class="heti-spacing"> </span>Web<span class="heti-spacing"> </span></span>浏览器会将最近引用的文档放入本地磁盘中<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>来缓存服务器的数据<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><img alt="20220817190104" src="https://s2.loli.net/2022/08/17/joPq8bHtaFVg9kp.png"/><br/>
这个例子中, 变量 sum 每次循环迭代中都会被引用一次, 因此有较好的时间局限性. 因为 sum 是标量所以他没有空间局限性. 对于变量 v 来说有良好的空间局限性, 但时间局限性很差, 因为每个向量元素只能被访问一次. 综上, 我们认为这个函数有良好的局限性.  </p>
</div>
<p>对于一个向量<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>如果每一轮引用的数据项之间在内存空间中相隔<span class="heti-skip"><span class="heti-spacing"> </span>k,<span class="heti-spacing"> </span></span>则称该程序具有<strong>步长为<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>的引用模式<span><span class="heti-spacing"> </span>(Stride-k Reference Pattern)</span></strong><span>.<span class="heti-spacing"> </span></span>步长<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>越大<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>则每一轮引用的数据在内存中间隔很大<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>则空间局部性越差<span><span class="heti-spacing"> </span>.</span> </p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><img alt="" src="https://pic1.zhimg.com/80/v2-48a83a08edb84d9a8ab728150dd0aaac_1440w.jpg"/><br/>
<img alt="" src="https://pic4.zhimg.com/80/v2-561d453a9fd069a3386d106d2c08952f_1440w.jpg"/>
第一个类似上文的例子. 第二个中变量 v 具有步长为 N 的引用模式, 空间局部性较差.  </p>
</div>
<p>取指令方面<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>因为程序指令是存放在内存中的<span class="heti-skip"><span class="heti-spacing"> </span>, CPU<span class="heti-spacing"> </span></span>必须取出这些指令<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>所以我们也能考虑取指的局限性<span class="heti-skip"><span class="heti-spacing"> </span>. for<span class="heti-spacing"> </span></span>循环体中的指令是按连续的内存顺序执行的<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>因此循环具有良好的空间局限性<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>因为循环体会执行多次<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>因此他也具有良好的时间局限性<span><span class="heti-spacing"> </span>.</span> </p>
<p>总的来说<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li>重复引用相同变量的程序有良好的时间局部性<span><span class="heti-spacing"> </span>.</span> </li>
<li>对于具有步长为<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>的引用模式的程序<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>步长越小<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>空间局部性越好<span><span class="heti-spacing"> </span>.</span> </li>
<li>对于取指令来说<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>循环有好的时间和空间局部性<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>循环体越小<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>循环迭代次数越多<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>局部性越好<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<h2 id="_15">存储器层次结构<a class="headerlink" href="#_15" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h2>
<p>通过上面两节，我们可以得到存储技术和软件的基本属性： </p>
<ul>
<li>不同存储技术的访问时间相差较大<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>速度快的技术每字节的成本比速度慢的技术高<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>且容量小<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>并且<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>和主存之间的差距在变大<span><span class="heti-spacing"> </span>.</span> </li>
<li>编写良好的程序具有良好的局部性<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<p>我们得到一种组织存储器系统的方法<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>称为<strong>存储器层次结构<span><span class="heti-spacing"> </span>(memory hierarchy)</span></strong>.<br/>
<img alt="" src="https://pic3.zhimg.com/80/v2-a5efaee2ec60e7c80143ac8e1992bf46_1440w.jpg"/></p>
<p>一般而言<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>从高层往低层走<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>存储设备变得更慢<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>更便宜和更大<span><span class="heti-spacing"> </span>.</span> </p>
<h3 id="_16">缓存<a class="headerlink" href="#_16" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p><strong>高速缓存<span><span class="heti-spacing"> </span>(cache)</span></strong> 是一个小而快速的存储设备<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>它作为存储在更大<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>也更慢的设备中的数据对象的缓冲区域<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>使用高速缓存的过程称为<strong>缓存<span><span class="heti-spacing"> </span>(caching)</span></strong>.<br/>
存储器层次结构的中心思想是: <strong>对于每个<span class="heti-skip"><span class="heti-spacing"> </span>k,<span class="heti-spacing"> </span></span>位于<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层的更快更小的存储设备作为位于<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层的更大更慢的存储设备的缓存</strong>.  </p>
<div class="admonition note">
<p class="admonition-title">该结构为什么有效</p>
<p>因为程序的局部性原理<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>相比于第<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层的数据，程序会倾向于访问存储在第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层的数据。如果我们访问第<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层存储的数据，我们会将其拷贝到第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层，因为根据局部性原理我们很有可能将再次访问该数据，由此我们就能以第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层的访问速度来访问数据。而且因为我们不经常访问第<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层的数据，我们就可以使用速度更慢且更便宜的存储设备<span><span class="heti-spacing"> </span>.</span> </p>
</div>
<p>第<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层的存储器被划分为连续的数据对象组块<span class="heti-skip"><span class="heti-spacing"> </span>(chunk),<span class="heti-spacing"> </span></span>称为<strong>块<span><span class="heti-spacing"> </span>(block)</span></strong><span>.<span class="heti-spacing"> </span></span>每个块有一个唯一的地址或名字<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>块可以是固定大小<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>也可以是可变大小<span><span class="heti-spacing"> </span>.</span><br/>
数据总是以块大小为<strong>传送单元</strong>在第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层和<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层之间来回复制<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>层次结构中较低层<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>离<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>较远<span class="heti-skip"><span class="heti-spacing"> </span>)<span class="heti-spacing"> </span></span>的设备的访问时间较长<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>为了补偿较长的访问时间<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>倾向于使用较大的块<span><span class="heti-spacing"> </span>.</span><br/>
<img alt="" src="https://pic3.zhimg.com/80/v2-bed760846b2d38575f36c7b36e483032_1440w.jpg"/> </p>
<h4 id="_17">缓存命中<a class="headerlink" href="#_17" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>当程序需要<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层的某个数据对象<span class="heti-skip"><span class="heti-spacing"> </span>d<span class="heti-spacing"> </span></span>时<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>它首先在当前存储在<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层的一个块中查找<span class="heti-skip"><span class="heti-spacing"> </span>d.<span class="heti-spacing"> </span></span>如果<span class="heti-skip"><span class="heti-spacing"> </span>d<span class="heti-spacing"> </span></span>刚好缓存在第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>那么就是我们所说的<strong>缓存命中<span><span class="heti-spacing"> </span>(cache hit)</span></strong>.  </p>
<h4 id="_18">缓存不命中<a class="headerlink" href="#_18" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>若第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层中没有<span class="heti-skip"><span class="heti-spacing"> </span>d,<span class="heti-spacing"> </span></span>就是<strong>缓存不命中<span><span class="heti-spacing"> </span>(cache miss)</span></strong><span>.<span class="heti-spacing"> </span></span>此时第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层的缓存从<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层的缓存中取出包含<span class="heti-skip"><span class="heti-spacing"> </span>d<span class="heti-spacing"> </span></span>的那个块<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>如果第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层的缓存已经满了<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>就会覆盖现存的一个块<span><span class="heti-spacing"> </span>.</span><br/>
覆盖现存块的过程称为<strong>替换</strong>或<strong>驱逐</strong>这个块<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>被驱逐的块也称为<strong>牺牲快<span><span class="heti-spacing"> </span>(victim block)</span></strong><span>.<span class="heti-spacing"> </span></span>决定替换哪个块是由缓存的<strong>替换策略</strong>控制的<span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li>一个空的缓存称为<strong>冷缓存<span><span class="heti-spacing"> </span>(cold cache)</span></strong><span>,<span class="heti-spacing"> </span></span>此时的不命中称为<strong>强制性不命中</strong>或者<strong>冷不命中</strong>.  </li>
<li>只要发生了不命中<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>缓存就要执行某个<strong>放置策略</strong><span>.<span class="heti-spacing"> </span></span>但这种限制性的放置策略会引起一中不命中<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>即<strong>冲突不命中</strong>. <strong><em>e.g.</em></strong> 我们将<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层的块<span class="heti-skip"><span class="heti-spacing"> </span>i<span class="heti-spacing"> </span></span>放在<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层的<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(i mod 4\)</span><span class="heti-spacing"> </span></span>的块中<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>此时我们如果连续请求块<span class="heti-skip"><span class="heti-spacing"> </span>0<span class="heti-spacing"> </span></span>和块<span class="heti-skip"><span class="heti-spacing"> </span>8,<span class="heti-spacing"> </span></span>两次引用都会不命中<span><span class="heti-spacing"> </span>.</span> </li>
<li>块的集合称为这个阶段的<strong>工作集</strong><span>.<span class="heti-spacing"> </span></span>当工作集大小超过缓存的大小时<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>缓存会经历<strong>容量不命中</strong>.  </li>
</ul>
<p>通过以上内容，就能解释局部性好的程序的优势<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li><strong>时间局部性</strong><span>:<span class="heti-spacing"> </span></span>当一个数据对象在第一次不命中被复制到缓存中时，我们希望程序的时间局部性好，则在不久的将来就能反复在第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层访问到该块，使得程序运行更快<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>空间局部性</strong><span>:<span class="heti-spacing"> </span></span>由于缓存中一个块包含多个数据对象，我们希望程序的空间局部性好，就可以直接利用第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层的数据块，避免再从第<span class="heti-skip"><span class="heti-spacing"> </span>k+1<span class="heti-spacing"> </span></span>层传输块到第<span class="heti-skip"><span class="heti-spacing"> </span>k<span class="heti-spacing"> </span></span>层<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<h2 id="_19">高速缓存存储器<a class="headerlink" href="#_19" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h2>
<h3 id="_20">通用的高速缓存存储器组织架构<a class="headerlink" href="#_20" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>考虑一个系统<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>每个存储器地址有<span class="heti-skip"><span class="heti-spacing"> </span>m<span class="heti-spacing"> </span></span>位<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>形成<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(M=2^m\)</span><span class="heti-spacing"> </span></span>个不同的地址<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>高速缓存被组织成一个<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(S=2^s\)</span><span class="heti-spacing"> </span></span>个<strong>高速缓存组</strong>的数组<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>每个组有<span class="heti-skip"><span class="heti-spacing"> </span>E<span class="heti-spacing"> </span></span>个高速缓存行<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>每个行是由一个<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(B=2^b\)</span><span class="heti-spacing"> </span></span>的数据块<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>一个<strong>有效位</strong><span>,<span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(t=m-(b+s)\)</span><span class="heti-spacing"> </span></span>个<strong>标记位</strong>组成<span><span class="heti-spacing"> </span>.</span><br/>
高速缓存的结构可以通过元组 <span class="arithmatex">\((S, E, B, m)\)</span> 高速缓存的大小 <span class="arithmatex">\(C=S\times E\times B\)</span>.<br/>
<img alt="" src="https://pic1.zhimg.com/80/v2-f4f20030ddac5693b9ffe76f570df080_1440w.jpg"/> </p>
<p>如上图<span class="heti-skip"><span class="heti-spacing"> </span>, m<span class="heti-spacing"> </span></span>位的地址被分为三部分<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li><strong><span>s<span class="heti-spacing"> </span></span>位</strong><span>:<span class="heti-spacing"> </span></span>组索引<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong><span>t<span class="heti-spacing"> </span></span>位</strong><span>:<span class="heti-spacing"> </span></span>每个高速缓存行中有一个<span class="heti-skip"><span class="heti-spacing"> </span>t<span class="heti-spacing"> </span></span>位的标记位<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>唯一标识数据块<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>当我们通过组索引定位到组时<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>标记位告诉我们需要组中的哪一行<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>只有当地址的标记和行的标记位相同<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>而且设置了行的有效位<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>才能缓冲命中<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong><span>b<span class="heti-spacing"> </span></span>位</strong><span>:<span class="heti-spacing"> </span></span>在<span class="heti-skip"><span class="heti-spacing"> </span>B<span class="heti-spacing"> </span></span>个字节中的字偏移<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<h4 id="_21">直接映射高速缓存<a class="headerlink" href="#_21" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>当<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E=1\)</span><span class="heti-spacing"> </span></span>时<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>高速缓存被称为<strong>直接映射高速缓存<span><span class="heti-spacing"> </span>(direct-mapped cache)</span></strong>.  </p>
<p><img alt="" src="https://pic4.zhimg.com/80/v2-aa702758461fd483d0f4c4693a9cb913_1440w.jpg"/> </p>
<p>从块中抽取出字的流程<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li><strong>组选择</strong><span>:<span class="heti-spacing"> </span></span>从<span class="heti-skip"><span class="heti-spacing"> </span>w<span class="heti-spacing"> </span></span>的地址中间抽出<span class="heti-skip"><span class="heti-spacing"> </span>s<span class="heti-spacing"> </span></span>个索引位<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>这些位被解释位为一个对应组号的无符号整数<span><span class="heti-spacing"> </span>.</span><br/>
<img alt="20220817220555" src="https://s2.loli.net/2022/08/17/KtzZv432OaJQmVP.png"/></li>
<li><strong>行匹配</strong><span>:<span class="heti-spacing"> </span></span>因为每个组只有一行<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>当且仅当设置了有效位<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>而且高速缓存行中的标记与<span class="heti-skip"><span class="heti-spacing"> </span>w<span class="heti-spacing"> </span></span>地址中的标记相匹配时<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>这一行才包含<span class="heti-skip"><span class="heti-spacing"> </span>w<span class="heti-spacing"> </span></span>的一个副本<span><span class="heti-spacing"> </span>.</span><br/>
<img alt="20220817220724" src="https://s2.loli.net/2022/08/17/5LfjqVba7HmvJDA.png"/></li>
<li><strong>字选择</strong><span>:<span class="heti-spacing"> </span></span>把块看成一个字的数组<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>字节偏移就是这个数组的一个索引<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>不命中时的行替换</strong><span>:<span class="heti-spacing"> </span></span>如果缓存不命中<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>它就从存储器层次结构中的下一层取出被请求的块<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>然后将新的块存储在组索引位指示的组中的一个高速缓存行中<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<div class="admonition warning">
<p class="admonition-title">直接映射高速缓存中的冲突不命中</p>
<p>当程序访问大小为<span class="heti-skip"><span class="heti-spacing"> </span>2<span class="heti-spacing"> </span></span>的幂次的数组时<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>通常会发生冲突不命中<span><span class="heti-spacing"> </span>.</span><br/>
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kt">float</span><span class="w"> </span><span class="nf">dotprod</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a>
<a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sum</span><span class="p">;</span>
<a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="p">}</span>
</code></pre></div>
假设浮点数是 4 个字节, x 被加载到 0 开始的 32 字节连续内存中, y 从地址 32 开始. 假设一个块是 16 个字节, 由两个组组成. 那么 x[i] 和 y[i] 会被映射到相同的内存组:<br/>
<img alt="" src="https://pic4.zhimg.com/80/v2-01bb5304729710ade6c068b325949ebf_1440w.jpg"/><br/>
这样我们会在 x 和 y 的块之间<strong>抖动<span><span class="heti-spacing"> </span>(thrash)</span></strong><span>,<span class="heti-spacing"> </span></span>即高速缓存反复地加载和驱逐相同的高速缓存块的组<span><span class="heti-spacing"> </span>.</span><br/>
可以发现: 即使程序的局部性良好, 且工作集的大小没有超过高速缓存容量, 但是由于这些数据块都被映射到了相同的高速缓存组中, 且直接映射高速缓存每个组中只有一个高速缓存行, 所以会出现抖动, 不断出现缓存不命中.
我们可以修正抖动问题: 在每个数组的结尾放 B 字节的填充.<br/>
<img alt="" src="https://pic1.zhimg.com/80/v2-44b817579e78add10620e537d7f9d738_1440w.jpg"/>
</div>
<div class="admonition info">
<p class="admonition-title">为什么用中间的位来做索引</p>
<p>如果用高位做索引<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>那么一些连续的内存块就会映射到相同的高速缓冲块<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>顺序扫描一个数组的元素<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>那么高速缓存只能保存一个块大小的数组内容<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>这样的使用效率很低<span><span class="heti-spacing"> </span>.</span> </p>
</div>
<h4 id="_22">级相联高速缓存<a class="headerlink" href="#_22" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>直接映射高速缓存中冲突不命中的根源就是每个组只有一行<span><span class="heti-spacing"> </span>.</span> <strong>级相联高速缓存<span><span class="heti-spacing"> </span>(set associative cache)</span></strong> 放送了这个限制<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>一个<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(1&lt;E&lt;C/B\)</span><span class="heti-spacing"> </span></span>的高速缓存称为 <strong><span>E<span class="heti-spacing"> </span></span>路组相联高速缓存</strong>.<br/>
抽字过程如上. 当缓存不命中时需要缓存行替换. 如果对应高速缓存组中有空行, 直接保存到空行, 否则考虑合适的<strong>替换策略</strong>.  </p>
<ul>
<li><strong>最不常使用<span><span class="heti-spacing"> </span>(Least-Frequently-Used, LFU)</span></strong><span>:<span class="heti-spacing"> </span></span>替换过去某个时间窗口内引用次数最少的一行<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>最近最少原理<span><span class="heti-spacing"> </span>(Least-Recently-Used, LRU)</span></strong><span>:<span class="heti-spacing"> </span></span>替换最后一次访问时间最久远的那一行<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<h4 id="_23">全相联高速缓存<a class="headerlink" href="#_23" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p><strong>全相联高速缓存<span><span class="heti-spacing"> </span>(Full Associative Cache)</span></strong> 是用一个包含所有高速缓存行的组组成的<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>其中<span class="heti-skip"><span class="heti-spacing"> </span><span class="arithmatex">\(E=C/B\)</span><span class="heti-spacing"> </span></span>即<span><span class="heti-spacing"> </span><span class="arithmatex">\(E=1\)</span>.</span><br/>
注意地址中不需要组索引位, 地址只被划分为一个标记和一个块偏移.<br/>
因为高速缓存电路必须并行地搜索许多相匹配的标记, 构造一个又大又快的相联高速缓存很困难, 而且很昂贵. 因此全相联高速缓存只适合做很小的缓存.  </p>
<h3 id="_24">写操作<a class="headerlink" href="#_24" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>当<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>想要对地址<span class="heti-skip"><span class="heti-spacing"> </span>A<span class="heti-spacing"> </span></span>进行写操作时<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>会通过地址<span class="heti-skip"><span class="heti-spacing"> </span>A<span class="heti-spacing"> </span></span>判断是否缓存了该地址<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>如果缓存了称为<strong>写命中<span><span class="heti-spacing"> </span>(Write Hit)</span></strong><span>,<span class="heti-spacing"> </span></span>否则称为<strong>写不命中<span><span class="heti-spacing"> </span>(Write Miss)</span></strong>.  </p>
<ul>
<li>
<p><strong>写命中</strong><span>:<span class="heti-spacing"> </span></span>高速缓存会先更新在缓存中的版本<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>然后采取不同的方法更新下一版本<span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li><strong>直写<span><span class="heti-spacing"> </span>(write-through)</span></strong><span>:<span class="heti-spacing"> </span></span>立即将<span class="heti-skip"><span class="heti-spacing"> </span>w<span class="heti-spacing"> </span></span>的高速缓存块写回到紧挨着的低一层中<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>缺点是每次写都会引起总线流量<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>写回<span><span class="heti-spacing"> </span>(write-back)</span></strong><span>:<span class="heti-spacing"> </span></span>尽可能地推迟更新<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>只有当替换算法要驱逐这个更新过的块时才把它写到紧挨着的低一层中<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>为此我们要为高速缓存维护一个额外的修改位<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>它显著地减少了总线流量<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>但缺点是增加了复杂性<span><span class="heti-spacing"> </span>.</span> </li>
<li>
<p><strong>写不命中</strong>: </p>
</li>
<li>
<p><strong>写分配<span><span class="heti-spacing"> </span>(write-allocate)</span></strong><span>:<span class="heti-spacing"> </span></span>加载相应的低一层中的块到高速缓存中<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>然后更新这个高速缓存块<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>写分配试图利用空间局部性<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>但缺点是每次不命中都会导致一个块从低到高的传送<span><span class="heti-spacing"> </span>.</span> </p>
</li>
<li><strong>非写分配</strong><span>:<span class="heti-spacing"> </span></span>避开高速缓存<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>直接将这个字写到低一层中<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
</li>
</ul>
<p>直写高速缓存通常为写不分配的<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>写回高速缓存通常为写分配的<span class="heti-skip"><span class="heti-spacing"> </span>.<span class="heti-spacing"> </span></span>建议采用写回和写分配<span><span class="heti-spacing"> </span>.</span> </p>
<h3 id="_25">真实的高速缓存层次结构<a class="headerlink" href="#_25" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p></p><div align="center"> <img src="https://pic4.zhimg.com/80/v2-daf61d2d3345d895745dc86855ffcddf_1440w.jpg" width="70%/"/> </div>
<p>实际上<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>高速缓存既保存数据<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>也保存指令  </p>
<ul>
<li><strong><em>i-cache</em></strong><span>:<span class="heti-spacing"> </span></span>只保存指令的高速缓存<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong><em>d-cache</em></strong><span>:<span class="heti-spacing"> </span></span>只保存程序数据的高速缓存<span><span class="heti-spacing"> </span>.</span> </li>
<li><strong>统一的高速缓存<span><span class="heti-spacing"> </span>(unified cache)</span></strong><span>:<span class="heti-spacing"> </span></span>既保存指令又保存数据的高速缓存<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<p>这样做的原因<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li>将数据和指令分别保存在两个高速缓存中<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>使得处理器可以同时读一个指令字和一个数据字<span><span class="heti-spacing"> </span>.</span> </li>
<li><span>i-cache<span class="heti-spacing"> </span></span>通常是只读的<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>所以会比较简单<span><span class="heti-spacing"> </span>.</span> </li>
<li>可以针对不同的访问模式优化这两个高速缓存<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>使用不同的块大小、相联度和容量<span><span class="heti-spacing"> </span>.</span> </li>
<li>确保数据访问和指令访问之间不形成冲突不命中<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
<p>代价就是会导致高速缓存容量变小<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>提高出现容量不命中的可能性<span><span class="heti-spacing"> </span>.</span> </p>
<h3 id="_26">高速缓存参数对性能的影响<a class="headerlink" href="#_26" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>衡量高速缓存性能的指标<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li><strong>不命中率</strong><span>:<span class="heti-spacing"> </span></span>不命中数量<span class="heti-skip"><span class="heti-spacing"> </span>/<span class="heti-spacing"> </span></span>引用数量   </li>
<li><strong>命中率</strong><span>: 1 -<span class="heti-spacing"> </span></span>不命中率  </li>
<li><strong>命中时间</strong><span>:<span class="heti-spacing"> </span></span>从高速缓存传送一个字到<span class="heti-skip"><span class="heti-spacing"> </span>CPU<span class="heti-spacing"> </span></span>所需的时间  </li>
<li><strong>不命中处罚</strong><span>:<span class="heti-spacing"> </span></span>由于不命中所需要的额外的时间  </li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left;">参数</th>
<th>优点</th>
<th>缺点</th>
<th>建议</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">高速缓存大小<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>越大<span><span class="heti-spacing"> </span>)</span></td>
<td>提高命中率</td>
<td>增加命中时间</td>
<td>L1&lt;L2&lt;L3</td>
</tr>
<tr>
<td style="text-align: left;">块大小<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>越大<span><span class="heti-spacing"> </span>)</span></td>
<td>利用空间局限性<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>提高命中率</td>
<td>高速缓存行越少<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>损害时间局限性<span class="heti-skip"><span class="heti-spacing"> </span>;<span class="heti-spacing"> </span></span>对不命中处罚有负面影响<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>传送时间越长</td>
<td>现代系统折中设置块包含<span class="heti-skip"><span class="heti-spacing"> </span>64<span class="heti-spacing"> </span></span>个字节</td>
</tr>
<tr>
<td style="text-align: left;">相联度<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>越高<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>即<span class="heti-skip"><span class="heti-spacing"> </span>E<span class="heti-spacing"> </span></span>越大<span><span class="heti-spacing"> </span>)</span></td>
<td>降低了高速缓存由于冲突不命中出现抖动的可能</td>
<td>较高的成本<span class="heti-skip"><span class="heti-spacing"> </span>;<span class="heti-spacing"> </span></span>需要更多标记位<span class="heti-skip"><span class="heti-spacing"> </span>;<span class="heti-spacing"> </span></span>增加命中时间<span class="heti-skip"><span class="heti-spacing"> </span>;<span class="heti-spacing"> </span></span>增加不命中惩罚</td>
<td><span>L1<span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span>L2<span class="heti-spacing"> </span></span>使用<span class="heti-skip"><span class="heti-spacing"> </span>8<span class="heti-spacing"> </span></span>路组相联<span class="heti-skip"><span class="heti-spacing"> </span>, L3<span class="heti-spacing"> </span></span>使用<span class="heti-skip"><span class="heti-spacing"> </span>16<span class="heti-spacing"> </span></span>路组相联</td>
</tr>
<tr>
<td style="text-align: left;">写策略<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>直写<span><span class="heti-spacing"> </span>)</span></td>
<td>容易实现<span class="heti-skip"><span class="heti-spacing"> </span>;<span class="heti-spacing"> </span></span>能使用独立于高速缓存的写缓冲区来更新内存<span class="heti-skip"><span class="heti-spacing"> </span>;<span class="heti-spacing"> </span></span>读不命中的开销不大</td>
<td>引起的传送次数多</td>
<td>高速缓存越往下层<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>越可能使用写回而不是直写</td>
</tr>
</tbody>
</table>
<p>由此<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>编写高速缓存友好的代码需要<span><span class="heti-spacing"> </span>:</span> </p>
<ul>
<li>
<p>让最常见的代码运行得快<span><span class="heti-spacing"> </span>.</span> </p>
<ul>
<li>对局部变量的反复引用是好的<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>因为编译器能够把它们缓存在寄存器之中<span class="heti-skip"><span class="heti-spacing"> </span>(<span class="heti-spacing"> </span></span>时间局部性<span><span class="heti-spacing"> </span>).</span> </li>
<li>步长为<span class="heti-skip"><span class="heti-spacing"> </span>1<span class="heti-spacing"> </span></span>的引用模式是好的<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>因为存储器层次结构中所有层次上的缓存都是将数据缓存为连续的块<span class="heti-skip"><span class="heti-spacing"> </span>.(<span class="heti-spacing"> </span></span>空间局部性<span><span class="heti-spacing"> </span>)</span> </li>
<li>尽量减少每个循环内的缓存不命中数量<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>较高的不命中率队运行时间可以有显著的影响<span><span class="heti-spacing"> </span>.</span> </li>
</ul>
</li>
</ul>
<h2 id="_27">存储器山<a class="headerlink" href="#_27" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h2>
<p>一个程序从存储器系统中读取数据的速率称为<strong>读吞吐量<span><span class="heti-spacing"> </span>(Read Throughput)</span></strong> 或 <strong>读带宽<span><span class="heti-spacing"> </span>(Read Bandwidth)</span></strong>，单位为<span class="heti-skip"><span class="heti-spacing"> </span>MB/s.<span class="heti-spacing"> </span></span>我们通过以下代码来衡量空间局部性和时间局部性对程序吞吐量的影响<span><span class="heti-spacing"> </span>.</span> </p>
<p><img alt="" src="https://pic2.zhimg.com/80/v2-f80d3dc5a77671c44450285f4c997221_1440w.jpg"/></p>
<p>通过调整<span class="heti-skip"><span class="heti-spacing"> </span>size(<span class="heti-spacing"> </span></span>时间局部性<span class="heti-skip"><span class="heti-spacing"> </span>. size<span class="heti-spacing"> </span></span>小则放进<span class="heti-skip"><span class="heti-spacing"> </span>L1<span class="heti-spacing"> </span></span>高速缓存<span class="heti-skip"><span class="heti-spacing"> </span>, size<span class="heti-spacing"> </span></span>大则放进<span class="heti-skip"><span class="heti-spacing"> </span>L3)<span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span>stride(<span class="heti-spacing"> </span></span>空间局部性<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>步长<span class="heti-skip"><span class="heti-spacing"> </span>)<span class="heti-spacing"> </span></span>来度量程序的吞吐量，可以得到以下存储器山<span><span class="heti-spacing"> </span>(Memory Mountain).</span><br/>
<img alt="" src="https://pic3.zhimg.com/80/v2-9138e6ee2de307d51925388b2f6ff952_1440w.jpg"/></p>
<p>保持<span class="heti-skip"><span class="heti-spacing"> </span>stride<span class="heti-spacing"> </span></span>不变<span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span>观察高速缓存大小和时间局部性对性能的影响<span><span class="heti-spacing"> </span>:</span><br/>
<img alt="" src="https://pic4.zhimg.com/80/v2-25318f54b07e9c5b04fb7da56fdd07db_1440w.jpg"/></p>
<p>保持工作集为<span class="heti-skip"><span class="heti-spacing"> </span>4MB,<span class="heti-spacing"> </span></span>沿着<span class="heti-skip"><span class="heti-spacing"> </span>L3<span class="heti-spacing"> </span></span>山脊查看空间局部性对性能的影响<span><span class="heti-spacing"> </span>:</span> </p>
<p><img alt="" src="https://pic3.zhimg.com/80/v2-d477dbe3deb3abf57143b85f565a9afa_1440w.jpg"/></p>
<p>综上所述：使频繁使用的字从<span class="heti-skip"><span class="heti-spacing"> </span>L1<span class="heti-spacing"> </span></span>中取出，还需要利用空间局部性，使得尽可能多的字从一个高速缓存行中读取到<span><span class="heti-spacing"> </span>.</span></p>
<h3 id="_28">重新排列循环以提高空间局部性<a class="headerlink" href="#_28" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<div class="admonition example">
<p class="admonition-title">矩阵乘法</p>
<p>假设两个矩阵都是<span class="heti-skip"><span class="heti-spacing"> </span>n*n<span class="heti-spacing"> </span></span>的<span class="heti-skip"><span class="heti-spacing"> </span>double<span class="heti-spacing"> </span></span>型数组<span><span class="heti-spacing"> </span>. sizeof(double) == 8.</span><br/>
只有一个高速缓存, 其块大小为 32 字节.<br/>
n 很大以至于矩阵的一行都不能完全装进 L1 高速缓存中.<br/>
编译器将局部变量存储到寄存器中, 因此循环内对局部变量的引用不需要任何存储和加载指令.<br/>
<img alt="" src="https://pic2.zhimg.com/80/v2-6bbe62a7cfd8f056115a07f20978c8e1_1440w.jpg"/></p>
<p>其结果<span class="heti-skip"><span class="heti-spacing"> </span>:(<span class="heti-spacing"> </span></span>内循环<span><span class="heti-spacing"> </span>)</span><br/>
<img alt="" src="https://pic2.zhimg.com/80/v2-cec776bff5e8f8509dfe8abafe9a91b9_1440w.jpg"/></p>
</div>
<h3 id="_29">使用分块提高时间局部性<a class="headerlink" href="#_29" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="最后更新">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2022年9月5日 23:38:05 CST">2022年9月5日 23:38:05</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="创建日期">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="2022年9月5日 23:38:05 CST">2022年9月5日 23:38:05</span>
</span>
</aside>
<!-- Giscus -->
<h2 id="__comments">评论</h2>
<!-- 这里改成你的Giscus代码 -->
<script async="" crossorigin="anonymous" data-category="General" data-category-id="DIC_kwDOHtZjDs4CQZ7Z" data-emit-metadata="0" data-input-position="top" data-lang="zh-CN" data-mapping="pathname" data-reactions-enabled="1" data-repo="HobbitQia/notebook" data-repo-id="R_kgDOHtZjDg" data-strict="0" data-theme="light" src="https://giscus.app/client.js">
</script>
<!-- Reload on palette change -->
<script>
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object")
        if (palette.color.scheme === "slate") {
            var giscus = document.querySelector("script[src*=giscus]")
            giscus.setAttribute("data-theme", "dark")
        }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  回到页面顶部
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2022 <a href="https://github.com/HobbitQia" rel="noopener" target="_blank">HobbitQia</a>
</div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/HobbitQia/" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
<script src="../../js/baidu-tongji.js"></script>
<script src="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
<script src="../../js/katex.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>